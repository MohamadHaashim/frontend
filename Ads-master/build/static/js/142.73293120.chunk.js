"use strict";(self.webpackChunkdemo_app=self.webpackChunkdemo_app||[]).push([[142],{8551:function(e,n,t){t.d(n,{Nl:function(){return d},Qc:function(){return m},dP:function(){return l},w7:function(){return i},wM:function(){return u}});var a=t(1243),c="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/configGoogle/"),r="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/"),s=localStorage.getItem("customerAuthToken"),o={Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},i=function(){return a.Z.get("".concat(c,"generateAuthUrl"),{headers:o}).then((function(e){return e.data})).catch((function(e){return e.data}))},l=function(){return a.Z.get("".concat(c,"checkConnectAccount"),{headers:o}).then((function(e){return e.data})).catch((function(e){return e.data}))},u=function(e){return a.Z.post("".concat(c,"connectAccount"),e,{headers:o}).then((function(e){return e.data})).catch((function(e){return e.data}))},d=function(){return a.Z.get("".concat(c,"unlinkConnectAccount"),{headers:o}).then((function(e){return e.data})).catch((function(e){return e.data}))},m=function(e,n){return a.Z.post("".concat(r,"ads/").concat(e,"/refreshCampaigns"),n,{headers:o}).then((function(e){return e.data})).catch((function(e){return e.data}))}},9084:function(e,n,t){t.d(n,{K4:function(){return m},Nc:function(){return d},TO:function(){return l},Wt:function(){return s},X4:function(){return o},cM:function(){return h},jX:function(){return u},jw:function(){return p},n8:function(){return r},wv:function(){return i}});var a=t(3939),c=t(6734),r=function(){return{type:a.KI,payload:{url:c.b.amazonGetData,method:"GET",token:"amazon",success:function(e){return{type:a.cy,payload:e}},error:function(e){return{type:a.bB,payload:e}}}}},s=function(e){return{type:a.KI,payload:{url:c.b.amazonConnect,method:"POST",data:e,token:"amazon",success:function(e){return{type:a.Mv,payload:e}},error:function(e){return{type:a.M9,payload:e}}}}},o=function(){return{type:a.KI,payload:{url:c.b.listProfiles,method:"POST",token:"amazon",success:function(e){return{type:a.gM,payload:e}},error:function(e){return{type:a.PI,payload:e}}}}},i=function(e){return{type:a.KI,payload:{url:c.b.changeStatus,method:"POST",data:e,token:"amazon",success:function(e){return{type:a.SW,payload:e}},error:function(e){return{type:a.hl,payload:e}}}}},l=function(e){return{type:a.KI,payload:{url:c.b.searchProfile,method:"POST",data:e,token:"amazon",success:function(e){return{type:a.Tf,payload:e}},error:function(e){return{type:a.ef,payload:e}}}}},u=function(e){return{type:a.KI,payload:{url:c.b.listDashboardProfiles,method:"POST",data:e,token:"amazon",success:function(e){return{type:a.YH,payload:e}},error:function(e){return{type:a.AH,payload:e}}}}},d=function(){return{type:a.KI,payload:{url:c.b.mainAccountList,method:"GET",token:"amazon",success:function(e){return{type:a.Gv,payload:e}},error:function(e){return{type:a.vk,payload:e}}}}},m=function(){return{type:a.KI,payload:{url:c.b.checkConnectAccount,method:"POST",success:function(e){return{type:a.Xe,payload:e}},error:function(e){return{type:a.GQ,payload:e}}}}},p=function(){return{type:a.KI,payload:{url:c.b.unlinkConnectAccount,method:"POST",success:function(e){return{type:a.L9,payload:e}},error:function(e){return{type:a.Fk,payload:e}}}}},h=function(e){return{type:a.KI,payload:{url:"".concat(c.b.listCampaigns).concat(e.id,"/listCampaigns"),method:"POST",data:e.params,token:"amazon",success:function(e){return{type:a.UD,payload:e}},error:function(e){return{type:a.xM,payload:e}}}}}},2:function(e,n,t){t.d(n,{EQ:function(){return r},Kv:function(){return d},QV:function(){return l},ii:function(){return s},tC:function(){return o},tY:function(){return u},vs:function(){return i}});var a=t(3939),c=t(6734),r=function(e){return{type:a.KI,payload:{url:c.b.signUp,method:"POST",data:e,success:function(e){return{type:a.I,payload:e}},error:function(e){return{type:a.KC,payload:e}}}}},s=function(e){return{type:a.KI,payload:{url:c.b.SignIn,method:"POST",data:e,success:function(e){return{type:a.x6,payload:e}},error:function(e){return{type:a.sC,payload:e}}}}},o=function(e){return{type:a.KI,payload:{url:c.b.forgotPassword,method:"POST",data:e,success:function(e){return{type:a.$1,payload:e}},error:function(e){return{type:a.NV,payload:e}}}}},i=function(e){return{type:a.KI,payload:{url:c.b.otpVerify,method:"POST",data:e,success:function(e){return{type:a.zG,payload:e}},error:function(e){return{type:a.eU,payload:e}}}}},l=function(e){return{type:a.KI,payload:{url:c.b.resetPassword,method:"POST",data:e,success:function(e){return{type:a.ZH,payload:e}},error:function(e){return{type:a.Kn,payload:e}}}}},u=function(){return{type:a.KI,payload:{url:c.b.getUserProfile,method:"GET",success:function(e){return{type:a.Jz,payload:e}},error:function(e){return{type:a.ek,payload:e}}}}},d=function(){return{type:a.lK}}},1670:function(e,n,t){t.d(n,{E:function(){return c}});var a=t(3939),c=function(e){return{type:a.E,payload:{data:e}}}},224:function(e,n,t){t.d(n,{Jg:function(){return c},Uy:function(){return s},gV:function(){return r}});var a=t(8007),c=a.Ry().shape({oldPassword:a.Z_().required("Old Password is required").nullable(),newPassword:a.Z_().required("New Password is required").nullable(),confirmNewPassword:a.Z_().required("Confirm Password is required").nullable()}),r=(a.Ry().shape({question_details:a.IX().of(a.Ry().shape({qn_details:a.Z_().required("Question Synonym is Required")}))}),a.Ry().shape({scheduleName:a.Z_().required("Schedule Name is required")})),s=a.Ry().shape({dayName:a.nK().required("Please select a day"),startTime:a.Z_().required("Please select a start time"),endTime:a.Z_().required("Please select a end time")})},8900:function(e,n,t){t(2791);var a=t(184);n.Z=function(e){var n=e.name;return(0,a.jsx)("div",{className:"SettingHeader p-0 m-0",children:(0,a.jsx)("h3",{children:n})})}},4072:function(e,n,t){t.r(n),t.d(n,{default:function(){return Be}});var a=t(4165),c=t(5861),r=t(9439),s=t(2791),o=t(2412),i=t(9434),l=t(9084),u=t(2),d=t(7689),m=t(3513),p={rows:{style:{minHeight:"50px",border:"2px solid #F5F5F5"}},head:{style:{minHeight:"60px"}},headCells:{style:{fontSize:"15px",fontWeight:"500",backgroundColor:"#F5F5F5"}},cells:{style:{fontSize:"14px",backgroundColor:"white"}}},h=t(2830),f=(t(5462),t(8820)),v=t(3735),g=t.n(v),x=t(1413),j=t(2576),y=t(184),N=function(e){var n=e.handleChange,t=e.options,a=e.name,c=e.value,r=e.label,s=e.isMulti;e.style,e.height;return(0,y.jsx)(j.ZP,{id:"floatingSelectGrid",name:a,options:t,isMulti:s,isClearable:!0,isDisabled:!1,isLoading:!1,defaultValue:c,value:c,onChange:n,placeholder:r,theme:function(e){return(0,x.Z)((0,x.Z)({},e),{},{borderRadius:5,colors:(0,x.Z)((0,x.Z)({},e.colors),{},{primary25:"#3f80ea",primary:"#3f80ea"})})}})},b=t(3528),S=t.n(b),Z=t(394),C=t(8551),E=t(9085),A=function(e){var n=e.selectedCampagin,t=e.campaignFlag,o=e.timeZoneCountry,u=e.switchTab,v=void 0===u?{switchTab:v}:u,x=(0,i.I0)(),j=(0,s.useState)([]),b=(0,r.Z)(j,2),A=b[0],w=b[1],T=(0,s.useState)(),k=(0,r.Z)(T,2),_=k[0],P=k[1],I=(0,s.useState)(1),R=(0,r.Z)(I,2),D=R[0],z=R[1],H=(0,s.useState)(10),L=(0,r.Z)(H,2),B=L[0],F=L[1],O=(0,s.useState)(!1),M=(0,r.Z)(O,2),V=M[0],Y=M[1],U=(0,s.useState)(!1),K=(0,r.Z)(U,2),q=K[0],G=K[1],Q=(0,s.useState)({value:"",label:"All"}),W=(0,r.Z)(Q,2),X=W[0],J=W[1],$=(0,s.useState)({value:"",label:"All"}),ee=(0,r.Z)($,2),ne=ee[0],te=ee[1],ae=(0,s.useState)(),ce=(0,r.Z)(ae,2),re=ce[0],se=ce[1],oe=(0,s.useState)(1),ie=(0,r.Z)(oe,2),le=ie[0],ue=ie[1],de=(0,s.useState)(),me=(0,r.Z)(de,2),pe=(me[0],me[1],(0,s.useState)("")),he=(0,r.Z)(pe,2),fe=he[0],ve=he[1],ge=((0,d.s0)(),(0,s.useState)(!1)),xe=(0,r.Z)(ge,2),je=(xe[0],xe[1],[{name:"Active",selector:function(e){return e.active},id:"Active",cell:function(e){return(0,y.jsx)("div",{className:" form-check form-switch",children:(0,y.jsx)("input",{className:"form-check-input",checked:"ENABLED"===e.status,value:!0,type:"checkbox",name:"isActive",style:{width:"50px",height:"20px"},disabled:!0})})}},{name:"Campaign ID",width:"150px",sortable:!0,selector:function(e){return e.campaignId}},{name:"Campaign Name",width:"350px",sortable:!0,selector:function(e){return e.name}},{name:"Status",selector:function(e){return e.status},sortable:!0,cell:function(e){return(0,y.jsx)("p",{className:"".concat("ENABLED"===e.status?"enable":"").concat("PAUSED"===e.status?"pause":"").concat("ARCHIVED"===e.status?"archived":"").concat("ENDED"===e.status?"ended":""," p-0 m-0"),children:e.status})}},{name:"Budget",selector:function(e){return e.budget},width:"100px",sortable:!0,cell:function(e){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"budgetBox",children:(0,y.jsx)("div",{className:"mt-2 px-1",children:(0,y.jsxs)("p",{className:"p-0 m-0 tblHead d-flex justify-centent-center align-items-center",children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.budget.toFixed(2)]})})})})}},{name:"Campaign Type",selector:function(e){return e.type},width:"180px",sortable:!0,cell:function(e){return(0,y.jsx)("div",{className:"flex-column",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead",children:e.type})})}},{name:"Start Date",selector:function(e){return e.startDate},width:"120px",sortable:!0,cell:function(e){return(0,y.jsx)("div",{className:" mt-2 px-1",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead",children:e.startDate||"-"})})}},{name:"End Date",selector:function(e){return e.endDate},width:"120px",sortable:!0,cell:function(e){return(0,y.jsx)("div",{className:"mt-2 px-1",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead",children:e.endDate||"-"})})}},{name:"Budget Type",selector:function(e){return e.budgetType},width:"100px",sortable:!0,cell:function(e){return(0,y.jsx)("div",{className:"budgetBox",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead",children:e.budgetType})})}},{name:"Spend",selector:function(e){return e.spend},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.spend.toFixed(2)]})}},{name:"Sales",selector:function(e){return e.sales},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.sales.toFixed(2)]})}},{name:"ACOS",selector:function(e){return e.acos},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[e.acos.toFixed(2),"%"]})}},{name:"ROAS",selector:function(e){return e.roas},sortable:!0,cell:function(e){return(0,y.jsx)("div",{children:e.roas})}},{name:"Impressions",selector:function(e){return e.impressions},sortable:!0,cell:function(e){return(0,y.jsx)("div",{children:e.impressions})}},{name:"CPC",selector:function(e){return e.cpc},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.cpc.toFixed(2)]})}},{name:"Clicks",selector:function(e){return e.clicks},sortable:!0},{name:"Orders",selector:function(e){return e.orders},sortable:!0}]),ye=(0,i.v9)((function(e){return e.data.profileData}));(0,s.useEffect)((function(){"campaign"==v&&(P(null===n||void 0===n?void 0:n.profileId),Ne(1,10,null===n||void 0===n?void 0:n.profileId))}),[v,ye,t]);var Ne=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t,c,r,s){var o,i,u,d,m,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),o={id:r||(null===n||void 0===n?void 0:n.profileId),params:{pageNo:t||1,perPage:c||10,type:null===X||void 0===X?void 0:X.value,status:null===ne||void 0===ne?void 0:ne.value,currencyCode:null===n||void 0===n?void 0:n.currencyCode,search:s||fe,timezone:null===n||void 0===n?void 0:n.timezone}},G(!1),e.prev=3,e.next=6,x((0,l.cM)(o));case 6:m=e.sent,Y(!1),z((null===m||void 0===m||null===(i=m.data)||void 0===i?void 0:i.totalRecords)||0),se(null===(u=m.data)||void 0===u?void 0:u.lastUpdateDate),(null===m||void 0===m||null===(d=m.data)||void 0===d?void 0:d.totalRecords)>0?w(null===m||void 0===m||null===(p=m.data)||void 0===p?void 0:p.data):w([]),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),E.Am.error("Somthing Went Wrong !!"),Y(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n,t,a,c){return e.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[V&&(0,y.jsx)("div",{className:"loader",children:(0,y.jsx)(Z.Z,{})}),(0,y.jsx)("div",{className:"container-fluid "}),(0,y.jsxs)("div",{className:"container-fluid  form_group p-0 m-0",style:{width:"100%"},children:[!V&&(0,y.jsxs)("div",{className:"row d-flex align-items-center mb-4",children:[(0,y.jsxs)("div",{className:"col-4 campaign_search",children:[(0,y.jsx)("input",{type:"text",className:"text_search",placeholder:"Search...",onChange:function(e){!function(e){""==e.target.value?(ve(""),Ne(1,B,_,"")):ve(e.target.value)}(e)}}),(0,y.jsx)("button",{className:"search_go",onClick:function(){return Ne(1,B,_,fe)},children:"GO"})]}),(0,y.jsx)("div",{className:"col-1 ",children:(0,y.jsx)("button",{className:"filter_icon",onClick:function(){return function(){Y(!0);var e={pageNo:le||1,perPage:B||10,type:null===X||void 0===X?void 0:X.value,status:null===ne||void 0===ne?void 0:ne.value,currencyCode:null===n||void 0===n?void 0:n.currencyCode,search:fe,timezone:null===n||void 0===n?void 0:n.timezone};(0,C.Qc)(null===n||void 0===n?void 0:n.profileId,e).then((function(e){Y(!1),z((null===e||void 0===e?void 0:e.totalRecords)||0),se(null===e||void 0===e?void 0:e.lastUpdateDate),(null===e||void 0===e?void 0:e.totalRecords)>0?(E.Am.success(e.message),w(null===e||void 0===e?void 0:e.data)):w([])})).catch((function(e){E.Am.error("Somthing Went Wrong !!"),w([])}))}()},children:"Refresh"})}),(0,y.jsx)("div",{className:"col-6 text-end",children:(null===A||void 0===A?void 0:A.length)>0&&re&&(0,y.jsxs)("p",{className:"mb-0",children:[(0,y.jsx)("b",{children:"Last Updated Date & Time : "}),S()(re).tz(o).format("MM/DD/YYYY hh:mm:ss A z")]})}),(0,y.jsx)("div",{className:"col-1 text-end",children:(0,y.jsx)("button",{className:"filter_icon",onClick:function(){return G(!0)},children:(0,y.jsx)(f.ezc,{size:16,color:"white"})})})]}),(0,y.jsxs)(h.Z,{show:q,className:"model",centered:!0,style:{overflow:"visible"},children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return G(!1)},children:(0,y.jsx)(h.Z.Title,{children:"Filter"})}),(0,y.jsxs)("div",{className:"p-3",children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsxs)("div",{className:"col-12",children:[(0,y.jsx)("label",{className:"mb-2",children:"Type"}),(0,y.jsx)("div",{className:"",style:{width:"100%"},children:(0,y.jsx)(N,{handleChange:function(e){J(e)},name:"types",options:[{value:"",label:"All"},{value:"Sponsored Products",label:"Sponsored Products"},{value:"Sponsored Brands",label:"Sponsored Brands"},{value:"Sponsored Display",label:"Sponsored Display"}],value:X,label:"Select Type.."})})]}),(0,y.jsxs)("div",{className:"col-12 mt-2",children:[(0,y.jsx)("label",{className:"mb-2",children:"Status"}),(0,y.jsx)("div",{className:"",style:{width:"100%"},children:(0,y.jsx)(N,{handleChange:function(e){te(e)},name:"status",options:[{value:"",label:"All"},{value:"ENABLED",label:"Enabled"},{value:"PAUSED",label:"Paused"},{value:"ARCHIVED",label:"Archived"},{value:"ENDED",label:"Ended"}],value:ne,label:"Select Status.."})})]})]}),(0,y.jsxs)("div",{className:"col-12 d-flex justify-content-center pt-3",children:[(0,y.jsx)("button",{className:"btn cancel col-3 m-2",type:"button",onClick:function(){G(!1),J({value:"",label:"All"}),te({value:"",label:"All"}),Ne()},children:"Cancel"}),(0,y.jsx)("button",{className:"btn save col-3 m-2",onClick:function(){return Ne(1,B,_,fe)},children:"Search"})]})]})]}),(0,y.jsx)("div",{className:"bg-white",children:(0,y.jsx)("div",{className:"p-0",children:(0,y.jsx)(m.ZP,{columns:je,data:A,pagination:!0,paginationServer:!0,onChangeRowsPerPage:function(e){F(parseInt(e,10)),Ne(1,e,_,fe)},paginationPerPage:B,paginationTotalRows:D||0,onChangePage:function(e){Ne(e,B,_,fe),ue(e)},customStyles:p,fixedHeader:!0})})})]})]})},w=t(1734),T=t(2613),k=t(1670),_=t(1243),P="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/budgetRule/"),I=localStorage.getItem("customerAuthToken"),R={Authorization:"Bearer ".concat(I),"Content-Type":"application/json"},D=function(e,n){return _.Z.post("".concat(P).concat(e,"/getBudgetRules"),n,{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))},z=function(e,n){return _.Z.post("".concat(P,"updateRule/").concat(e),n,{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))},H=t(6053),L=t(3360);var B=function(e){var n=e.showDeleteModal,t=e.setShowDeleteModal,a=e.deleteHandler,c=e.name,r=function(){return t(!1)};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(h.Z,{show:n,onHide:r,children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,children:(0,y.jsx)("h5",{children:c})}),(0,y.jsx)(h.Z.Body,{children:(0,y.jsx)("h5",{className:"text-center",children:"  Are you sure want to delete this record? "})}),(0,y.jsxs)(h.Z.Footer,{children:[(0,y.jsx)(L.Z,{variant:"secondary",onClick:r,children:"Close"}),(0,y.jsx)(L.Z,{variant:"danger",onClick:function(){a(),t(!1)},children:"Remove"})]})]})})},F=t(3433),O=t(4942),M=t(8007),V=t(1134),Y=t(4695),U=function(e){e.isLoading,e.setIsLoading;var n=e.editId,t=(e.setEditId,e.getRules),a=(e.handleClose,e.selectedRows,e.id,e.showRules,e.setShowRules),c=e.selectedCampagin,o=(e.timeZoneCountry,(0,i.I0)()),l=M.Ry().shape({main:M.IX().of(M.Ry().shape({metricName:M.nK().required("Question Synonym is Required")}))}),u=(0,V.cI)({resolver:(0,Y.X)(l)}),d=u.register,m=(u.handleSubmit,u.control,u.formState.errors,u.reset),p=(u.setValue,u.getValues,u.unregister,[{value:"Budget",label:"Budget"},{value:"Spend",label:"Spend"},{value:"ROAS",label:"ROAS"},{value:"Sales",label:"Sales"},{value:"Clicks",label:"Clicks"},{value:"Orders",label:"Orders"}]),h=[{value:"LESS_THAN",label:"Less than"},{value:"LESS_THAN_OR_EQUAL_TO",label:"Less than or equal to"},{value:"GREATER_THAN_OR_EQUAL_TO",label:"Greater than or equal to"},{value:"GREATER_THAN",label:"Greater than"},{value:"EQUAL_TO",label:"Equal to"}],v=[{value:"Number",label:"Number"},{value:"Percentage",label:"Percentage"}],g=(0,s.useState)(""),j=(0,r.Z)(g,2),N=j[0],b=j[1],S=(0,s.useState)(),Z=(0,r.Z)(S,2),C=Z[0],A=Z[1],w=function(e){var r;e.preventDefault();var s=!1,i={ruleName:N,actionType:H,profileId:null===c||void 0===c?void 0:c.profileId,conditions:K,times:W},l={};if(""==i.ruleName&&(s=!0,l=(0,x.Z)((0,x.Z)({},l),{},{ruleName:"rulename is required"})),i.conditions){var u,d=[];null===i||void 0===i||null===(u=i.conditions)||void 0===u||u.map((function(e,n){var t=[];for(var a in e)""===e[a]&&(s=!0,t.push((0,O.Z)({},a,"".concat(a," is required"))),d[n]=t)})),l=(0,x.Z)((0,x.Z)({},l),{},{conditions:d})}i.actionType&&(""==(null===i||void 0===i?void 0:i.actionType.actionName)&&(s=!0,l=(0,x.Z)((0,x.Z)({},l),{},{actionName:"actionName is required"})),"Paused"!=(null===i||void 0===i?void 0:i.actionType.actionName)&&"Enabled"!=(null===i||void 0===i?void 0:i.actionType.actionName)&&(""==(null===i||void 0===i?void 0:i.actionType.actionValue)&&(s=!0,l=(0,x.Z)((0,x.Z)({},l),{},{actionValue:"actionValue is required"})),""==(null===i||void 0===i?void 0:i.actionType.actionValueType)&&(s=!0,l=(0,x.Z)((0,x.Z)({},l),{},{actionValueType:"actionValueType is required"}))));var m,p=[];null===i||void 0===i||null===(r=i.times)||void 0===r||r.map((function(e,n){0===Object.keys(e).length&&(s=!0,[].push({Time:"Time is required"}),p[n]="Time is required"),l=(0,x.Z)((0,x.Z)({},l),{},{timesErr:p})})),A(l),s||(n?(o((0,k.E)(!0)),z(n,i).then((function(e){e.isSuccess?(t(),E.Am.success(e.message),o((0,k.E)(!1)),a(!1)):(E.Am.error(e.message),o((0,k.E)(!1)))})).catch((function(e){E.Am.error(e),o((0,k.E)(!1)),a(!1)}))):(o((0,k.E)(!0)),(m=i,_.Z.post("".concat(P,"createRule"),m,{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){e.isSuccess?(t(),E.Am.success(e.message),o((0,k.E)(!1)),a(!1)):(E.Am.error(e.message),o((0,k.E)(!1)))})).catch((function(e){E.Am.error(e),o((0,k.E)(!1)),a(!1)}))))},T=function(e,n,t){var a,c;return"condition"==t&&(c=null===C||void 0===C?void 0:C.conditions[e]),"time"==t&&(c=null===C||void 0===C?void 0:C.time[e]),(0,y.jsx)(y.Fragment,{children:null===(a=c)||void 0===a?void 0:a.map((function(e,t){if(e.hasOwnProperty(n))return(0,y.jsx)("p",{className:"error",children:e[n]},t)}))})},I=(0,s.useState)({actionName:"",actionValue:"",actionValueType:""}),D=(0,r.Z)(I,2),H=D[0],L=D[1],B=(0,s.useState)([{conditionType:"",conditionOperator:"",conditionValue:"",conditionValueType:""}]),U=(0,r.Z)(B,2),K=U[0],q=U[1],G=(0,s.useState)([{}]),Q=(0,r.Z)(G,2),W=Q[0],X=Q[1],J=function(e,n,t){t?n[t]=e.target.value:n[e.target.attributes["data-name"].value]=e.target.value,q((0,F.Z)(K))},$=function(e){"Paused"==e.target.value?L({actionName:"Paused",actionValue:"",actionValueType:""}):L((0,x.Z)((0,x.Z)({},H),{},(0,O.Z)({},e.target.name,e.target.value)))};return(0,s.useEffect)((function(){n&&(o((0,k.E)(!0)),function(e){return _.Z.get("".concat(P,"getRule/").concat(e),{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))}(n).then((function(e){e.isSuccess?(b(e.data.ruleName),L(e.data.actionType),q(e.data.conditions),X(e.data.times),m(e.data),o((0,k.E)(!1))):(E.Am.error(e.message),o((0,k.E)(!1)))})).catch((function(e){o((0,k.E)(!1)),E.Am.error(e)})))}),[n]),(0,y.jsx)("div",{className:"new_rule",children:(0,y.jsxs)("form",{children:[(0,y.jsx)("div",{className:"row",children:(0,y.jsxs)("div",{className:"col",children:[(0,y.jsx)("label",{children:"Rule Name:"}),(0,y.jsx)("input",(0,x.Z)((0,x.Z)({type:"text"},d("ruleName")),{},{onChange:function(e){return b(e.target.value)},value:N,className:"input_rule",placeholder:"Enter a rule name"})),(0,y.jsx)("p",{className:"error",children:(null===C||void 0===C?void 0:C.ruleName)&&C.ruleName})]})}),(0,y.jsx)("div",{className:"add_border"}),(0,y.jsxs)("div",{className:"row mt-2",children:[(0,y.jsx)("div",{className:"col-11",children:(0,y.jsx)("label",{children:"Conditions :"})}),(0,y.jsx)("div",{className:"col-1 text-end",children:(0,y.jsx)(f.Lfi,{size:22,className:"plus_icon",onClick:function(){q([].concat((0,F.Z)(K),[{conditionType:"",conditionOperator:"",conditionValue:"",conditionValueType:""}]))}})})]}),null===K||void 0===K?void 0:K.map((function(e,n){return(0,y.jsxs)("div",{className:"row mb-2 main_row",children:[(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("select",(0,x.Z)((0,x.Z)({className:"form_rule",name:"conditionType"},d("main.".concat(n,".conditionType"),{onChange:function(n){return J(n,e,"conditionType")}})),{},{value:e.conditionType,children:[(0,y.jsx)("option",{hidden:!0,children:"Select"}),p.map((function(e,n){return(0,y.jsx)("option",{value:e.value,children:e.label},n)}))]})),T(n,"conditionType","condition")]}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("select",(0,x.Z)((0,x.Z)({name:"conditionOperator",className:"form_rule"},d("main.".concat(n,".conditionOperator"),{onChange:function(n){return J(n,e,"conditionOperator")}})),{},{value:e.conditionOperator,children:[(0,y.jsx)("option",{hidden:!0,children:"Select"}),h.map((function(e,n){return(0,y.jsx)("option",{value:e.value,children:e.label},n)}))]})),T(n,"conditionOperator","condition")]}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("input",(0,x.Z)((0,x.Z)({type:"number","data-name":"conditionValue",className:"form_rule",placeholder:"Value"},d("mainRuleData.".concat(n,".conditionValue"),{onChange:function(n){return J(n,e)}})),{},{value:e.conditionValue})),T(n,"conditionValue","condition")]}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("select",(0,x.Z)((0,x.Z)({name:"conditionValueType",className:"form_rule "},d("main.".concat(n,".conditionValueType"),{onChange:function(n){return J(n,e,"conditionValueType")}})),{},{value:e.conditionValueType,children:[(0,y.jsx)("option",{hidden:!0,children:"Select"}),v.map((function(e,n){return(0,y.jsx)("option",{value:e.value,children:e.label},n)}))]})),T(n,"conditionValueType","condition")]}),(0,y.jsx)("div",{className:"minus_icon",children:0!=n&&(0,y.jsx)(f.YK6,{size:22,className:"icon",onClick:function(){return function(e){var n=(0,F.Z)(K);n.splice(e,1),q(n)}(n)}})})]})})),(0,y.jsx)("div",{className:"add_border"}),(0,y.jsx)("div",{className:"row mt-2",children:(0,y.jsx)("div",{className:"col-11",children:(0,y.jsx)("label",{children:"Action Type:"})})}),(0,y.jsxs)("div",{className:"row action_row",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("select",{className:"form_rule",name:"actionName",onChange:function(e){$(e)},value:H.actionName,children:[(0,y.jsx)("option",{hidden:!0,children:"Select"}),[{value:"Enabled",label:"Campaign Enabled"},{value:"Paused",label:"Campaign Paused"},{value:"Increase",label:"Increase Budget"},{value:"Decrease",label:"Decrease Budget"},{value:"setBudget",label:"Set Budget"}].map((function(e,n){return(0,y.jsx)("option",{value:e.value,children:e.label},n)}))]}),(0,y.jsx)("p",{className:"error",children:(null===C||void 0===C?void 0:C.actionName)&&C.actionName})]}),(0,y.jsx)("div",{children:"Paused"!=H.actionName&&"Enabled"!=H.actionName&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("input",{type:"number",name:"actionValue",className:"form_rule",placeholder:"Value",value:H.actionValue,onChange:function(e){return $(e)}}),(0,y.jsx)("p",{className:"error",children:(null===C||void 0===C?void 0:C.actionValue)&&C.actionValue})]})}),(0,y.jsx)("div",{children:"Paused"!=H.actionName&&"Enabled"!=H.actionName&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("select",{className:"form_rule",name:"actionValueType",onChange:function(e){return $(e)},value:H.actionValueType,children:[(0,y.jsx)("option",{hidden:!0,children:"Select"}),v.map((function(e,n){return(0,y.jsx)("option",{value:e.value,children:e.label},n)}))]}),(0,y.jsx)("p",{className:"error",children:(null===C||void 0===C?void 0:C.actionValueType)&&C.actionValueType})]})})]}),(0,y.jsx)("div",{className:"add_border"}),(0,y.jsxs)("div",{className:"row mt-2",children:[(0,y.jsx)("div",{className:"col-11",children:(0,y.jsx)("label",{children:"Rule Times :"})}),(0,y.jsx)("div",{className:"col-1 text-end",children:(0,y.jsx)(f.Lfi,{size:22,className:"plus_icon",onClick:function(){X([].concat((0,F.Z)(W),[{}]))}})})]}),(0,y.jsx)("div",{className:"row time_row",children:null===W||void 0===W?void 0:W.map((function(e,n){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"mb-2",children:[(0,y.jsx)("input",{type:"time",className:"form_rule",placeholder:"Value",onChange:function(e){return function(e,n){var t=W;t[e]=n.target.value,X((0,F.Z)(t))}(n,e)},value:e,id:"mainRuleData-".concat(n),name:"mainRuleData-".concat(n)}),(0,y.jsx)("p",{className:"error",children:0!=(null===C||void 0===C?void 0:C.timesErr.length)&&(null===C||void 0===C?void 0:C.timesErr[n])})]}),(0,y.jsx)("div",{className:"minus_icon className mb-2",children:0!=n&&(0,y.jsx)(f.YK6,{size:22,className:"icon",onClick:function(){return function(e){var n=W;n.splice(e,1),X((0,F.Z)(n))}(n)}})})]})}))}),(0,y.jsx)("div",{className:"add_border"}),(0,y.jsxs)("div",{className:"col-12 d-flex justify-content-center pt-3",children:[(0,y.jsx)("button",{className:"btn cancel col-3 m-2",type:"button",onClick:function(){return a(!1)},children:"Cancel"}),(0,y.jsx)("button",{className:"btn save col-3 m-2",type:"submit",onClick:function(e){return w(e)},children:"Apply"})]})]})})},K="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/budgetRule/"),q=localStorage.getItem("customerAuthToken"),G={Authorization:"Bearer ".concat(q),"Content-Type":"application/json"},Q=function(e,n){return _.Z.post("".concat(K,"getAssignCampaigns/").concat(e),n,{headers:G}).then((function(e){return e.data})).catch((function(e){return e.data}))},W=(t(8117),t(6048)),X=t.n(W),J=(t(8145),t(4045)),$=t.p+"static/media/sampleFile.cce096b912e5f7ffc11f.xlsx";var ee=function(e){var n=e.campaignIds,t=e.selectedCampagin,a=e.allIds,c=e.setAllIds,o=(e.excelSelected,e.setExcelSelected),l=(0,i.I0)(),u=(0,s.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],h=(0,s.useState)([]),f=(0,r.Z)(h,2),v=(f[0],f[1],(0,s.useState)([])),g=(0,r.Z)(v,2),x=(g[0],g[1]),j=(0,s.useState)([]),N=(0,r.Z)(j,2),b=N[0],S=N[1],Z=(0,s.useState)(),C=(0,r.Z)(Z,2),A=C[0],w=C[1],T=(0,s.useState)(1),P=(0,r.Z)(T,2),I=P[0],R=P[1],D=(0,s.useState)(100),z=(0,r.Z)(D,2),H=z[0],L=(z[1],(0,s.useState)("")),B=(0,r.Z)(L,2),O=B[0],M=B[1],V=(0,s.useState)(1),Y=(0,r.Z)(V,2),U=(Y[0],Y[1]),q=(0,s.useState)([]),Q=(0,r.Z)(q,2),W=(Q[0],Q[1]),ee=function(){var e=[],c={search:O,pageNo:I,perPage:H};l((0,k.E)(!0)),function(e,n){return _.Z.post("".concat(K).concat(e,"/getCampaigns"),n,{headers:G}).then((function(e){return e.data})).catch((function(e){return e.data}))}(null===t||void 0===t?void 0:t.profileId,c).then((function(t){if(t.isSuccess){if(l((0,k.E)(!1)),x(t.data),w(t.totalRecords),R(t.currentPageNo),U(t.currentPageNo),0==n.length)ce(!1);else{var c=t.data.every((function(e){return a.some((function(n){return n===e.campaignId}))}));ce(c)}t.data.map((function(n){e.push({campaignId:n.campaignId,name:n.name})}))}else l((0,k.E)(!1)),E.Am.error(t.message)})).catch((function(e){l((0,k.E)(!1)),E.Am.error(e)})),S(e)};(0,s.useEffect)((function(){ee()}),[I,O]);var ne=(0,s.useState)(),te=(0,r.Z)(ne,2),ae=te[0],ce=te[1];return(0,s.useEffect)((function(){c(n)}),[n]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"campaginlist_modal mb-4",children:[(0,y.jsxs)("div",{className:"row col-11 m-auto mt-2 mb-2",children:[(0,y.jsxs)("div",{className:"col",children:[(0,y.jsx)("label",{className:"me-2",children:(0,y.jsx)("b",{children:"Search:"})}),(0,y.jsx)("input",{type:"text",className:"input_role",value:O,onChange:function(e){return function(e){M(e.target.value),R(1),U(1)}(e)},placeholder:"Type here"})]}),(0,y.jsxs)("div",{className:"col excel_choose d-flex justify-content-end",children:[(0,y.jsx)("div",{className:" download_sample me-2",children:(0,y.jsx)("a",{href:$,download:"sample excel format",target:"_blank",children:(0,y.jsx)("button",{children:"Download Sample File"})})}),(0,y.jsx)("div",{className:"text-end file_option me-2",children:(0,y.jsxs)("label",{className:"text-end",children:[" ","Assign",(0,y.jsx)("input",{type:"file",id:"myfile",value:"",name:"myfile",onChange:function(e){var n=e.target.files[0];if(n.name.endsWith(".xlsx")){p(!0);var r=new FileReader;r.onload=function(e){var n=e.target.result,r=J.ij(n,{type:"binary"}),i=r.SheetNames[0],u=r.Sheets[i],d=J.P6.sheet_to_json(u,{header:1}),m=s(d);W(m);var p={campaignIds:(0,F.Z)(new Set(a.concat(m.map((function(e){return String(e)})))))};l((0,k.E)(!0)),function(e,n){return _.Z.post("".concat(K).concat(e,"/selectedCampaigns"),n,{headers:G}).then((function(e){return e.data})).catch((function(e){return e.data}))}(null===t||void 0===t?void 0:t.profileId,p).then((function(e){o(e.data),c(e.data),l((0,k.E)(!1))})).catch((function(e){l((0,k.E)(!1))}))},r.readAsBinaryString(n);var s=function(e){return e.slice(1).map((function(e){return e[0]}))}}else alert("Please upload a valid Excel file (with .xlsx extension).")}})]})}),(0,y.jsx)("div",{className:"text-end file_option me-2",children:(0,y.jsxs)("label",{className:"text-end",children:[" ","De-Assign",(0,y.jsx)("input",{type:"file",id:"deassign",value:"",name:"deassign",onChange:function(e){var n=e.target.files[0];if(n.name.endsWith(".xlsx")){p(!0);var t=new FileReader;t.onload=function(e){var n=e.target.result,t=J.ij(n,{type:"binary"}),s=t.SheetNames[0],o=t.Sheets[s],i=J.P6.sheet_to_json(o,{header:1}),l=r(i).map(String),u=a.filter((function(e){return!l.includes(e)}));c(u)},t.readAsBinaryString(n);var r=function(e){return e.slice(1).map((function(e){return e[0]}))}}else alert("Please upload a valid Excel file (with .xlsx extension).")}})]})})]})]}),m&&(0,y.jsx)("div",{className:"row col-11",children:(0,y.jsx)("p",{className:"text-end filer_text",children:" File: Excel file selected"})}),(0,y.jsxs)("div",{className:"row col-11 m-auto mb-2",children:[(0,y.jsxs)("div",{className:"col",children:[(0,y.jsx)("input",{type:"checkbox",className:"me-2",value:ae,checked:ae,onChange:function(e){return function(e){var n=a||[];if(e.target.checked){ce(!0),b.forEach((function(e){n.push(e.campaignId)}));var t=(0,F.Z)(new Set(n));c(t)}else ce(!1),c((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return!b.map((function(e){return e.campaignId})).includes(e)}))}))}(e)}}),(0,y.jsx)("label",{children:(0,y.jsx)("b",{children:" All Select"})})]}),(0,y.jsxs)("div",{className:"col  d-flex align-items-center justify-content-end",children:[(0,y.jsx)("label",{className:"me-2",children:(0,y.jsx)("b",{children:"Selected:"})}),(0,y.jsxs)("p",{className:"m-0",children:[a.length||0,"  "]})]})]}),(0,y.jsx)("div",{className:"row col-11 campaign_list",children:0==b.length?(0,y.jsx)("p",{className:"text-center",children:" Data Not Found !!"}):b.map((function(e,n){return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)("div",{className:"col-1 pb-2 p-0",style:{cursor:"pointer"},children:(0,y.jsx)("input",{type:"checkbox",value:null===a||void 0===a?void 0:a.includes(e.campaignId),checked:null===a||void 0===a?void 0:a.includes(e.campaignId),className:"input_rule",onChange:function(n){return function(e,n,t){var r=(0,F.Z)(a);if(e.target.checked){var s;r.push(n);var o=null===(s=r)||void 0===s?void 0:s.filter((function(e){return b.some((function(n){return n.campaignId===e}))}));0!=b.length&&ce((null===o||void 0===o?void 0:o.length)===(null===b||void 0===b?void 0:b.length))}else{var i,l=null===(i=r=a.filter((function(e){return e!=n})))||void 0===i?void 0:i.filter((function(e){return null===b||void 0===b?void 0:b.some((function(n){return n.campaignId===e}))}));0!=b.length&&ce((null===l||void 0===l?void 0:l.length)===(null===b||void 0===b?void 0:b.length))}c(r)}(n,null===e||void 0===e?void 0:e.campaignId)}})}),(0,y.jsx)("div",{className:"col-5 pb-2 p-0",children:(0,y.jsxs)("label",{children:[e.name," "]})})]},n)}))}),0!=b.length&&(0,y.jsx)(X(),{previousLabel:"<<",nextLabel:">>",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:A/100,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){R(e.selected+1)},containerClassName:"pagination",activeClassName:"active",forcePage:I-1})]})})};var ne=function(e){var n=e.campaignIds,t=e.assignId,a=e.selectedCampagin,c=e.getRules,o=e.setCampaignModal,l=(e.timingFlag,(0,i.I0)()),u=(0,s.useState)([]),d=(0,r.Z)(u,2),m=d[0],p=d[1],h=(0,s.useState)([]),f=(0,r.Z)(h,2),v=f[0],g=f[1];return(0,y.jsxs)("div",{children:[(0,y.jsx)(ee,{selectedCampagin:a,assignId:t,campaignIds:n,getRules:c,setCampaignModal:o,allIds:m,setAllIds:p,excelSelected:v,setExcelSelected:g}),(0,y.jsx)("div",{className:"row",children:(0,y.jsxs)("div",{className:"col-12 mb-3 d-flex justify-content-center ",children:[(0,y.jsx)("button",{className:"btn cancel col-3 m-2",type:"button",onClick:function(){return o(!1),void c()},children:"Cancel"}),(0,y.jsx)("button",{className:"btn save col-3 m-2",type:"submit",onClick:function(){return function(){l((0,k.E)(!0));var e=m.map((function(e){return String(e)}));z(t,{campaignIds:e}).then((function(e){e.isSuccess?(l((0,k.E)(!1)),E.Am.success(e.message),c()):(l((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){l((0,k.E)(!1)),E.Am.error(e)})),o(!1)}()},children:"Apply"})]})})]})},te=t(1087);var ae=function(e){var n=e.selectedCampagin,t=e.getRules,a=e.setTemplateModal,c=(0,i.I0)(),o=(0,s.useState)([]),l=(0,r.Z)(o,2),u=l[0],d=l[1],h=[{name:"Rule Name",selector:function(e){return e.ruleName},sortable:!0},{name:"Conditions",width:"200px",sortable:!0,cell:function(e){var n;return(0,y.jsx)("div",{className:"rule_type",children:null===e||void 0===e||null===(n=e.conditions)||void 0===n?void 0:n.map((function(e,n){return j(n,null===e||void 0===e?void 0:e.conditionType,null===e||void 0===e?void 0:e.conditionOperator,null===e||void 0===e?void 0:e.conditionValue,null===e||void 0===e?void 0:e.conditionValueType)}))})}},{name:"Action Type",width:"200px",selector:function(e){return e.actionType},cell:function(e){var t,a,c,r,s="Number"==(null===e||void 0===e?void 0:e.actionType.actionValueType)?g()(n.currencyCode):"% of budget";return"Paused"==(null===e||void 0===e||null===(t=e.actionType)||void 0===t?void 0:t.actionName)?"Campaign Paused":"Enabled"==(null===e||void 0===e||null===(a=e.actionType)||void 0===a?void 0:a.actionName)?"Campaign Enabled":"".concat(null===e||void 0===e||null===(c=e.actionType)||void 0===c?void 0:c.actionName," budget by ").concat(null===e||void 0===e||null===(r=e.actionType)||void 0===r?void 0:r.actionValue).concat(s)}},{name:"Rule Times",width:"200px",selector:function(e){return e.times},cell:function(e){var n=e.times.map((function(e){return S()(e,"HH:mm").format("hh:mm A")})).join(", ");return(0,y.jsx)("div",{className:"rule_type",children:n})}},{name:"Origin",selector:function(e){return e.profileName},sortable:!0}],f=(0,s.useState)([{key:"GREATER_THAN",value:">"},{key:"LESS_THAN_OR_EQUAL_TO",value:"<="},{key:"GREATER_THAN_OR_EQUAL_TO",value:">="},{key:"LESS_THAN",value:"<"},{key:"EQUAL_TO",value:"=="}]),v=(0,r.Z)(f,2),x=v[0],j=(v[1],function(e,n,t,a,c){var r=null===x||void 0===x?void 0:x.find((function(e){return e.key==t})).value,s="Number"==c?"":"% of budget";return(0,y.jsxs)("div",{children:[0==e?"":"And"," ",n," ",r," ",a,s]},e)}),N=(0,s.useState)(),b=(0,r.Z)(N,2),C=b[0],A=b[1],w=(0,s.useState)(""),T=(0,r.Z)(w,2),P=T[0],I=T[1],R=function(e,n,t){c((0,k.E)(!0)),function(e){return _.Z.post("".concat(K,"getAllTemplate"),e,{headers:G}).then((function(e){return e.data})).catch((function(e){return e.data}))}({search:t,pageNo:e||U,perPage:n||H}).then((function(e){e.isSuccess?(c((0,k.E)(!1)),A(e.data),M(e.totalRecords)):(c((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){c((0,k.E)(!1)),E.Am.error(e)}))};(0,s.useEffect)((function(){R()}),[]);var D=(0,s.useState)(10),z=(0,r.Z)(D,2),H=z[0],L=z[1],B=(0,s.useState)(0),F=(0,r.Z)(B,2),O=F[0],M=F[1],V=(0,s.useState)(1),Y=(0,r.Z)(V,2),U=Y[0],q=(Y[1],function(){c((0,k.E)(!0));var e={ruleIds:u};(function(e,n){return _.Z.post("".concat(K).concat(e,"/assignTemplate"),n,{headers:G}).then((function(e){return e.data})).catch((function(e){return e.data}))})(null===n||void 0===n?void 0:n.profileId,e).then((function(e){e.isSuccess?(c((0,k.E)(!1)),A(e.data),E.Am.success(e.message),t(1,10),M(e.totalRecords),a(!1)):(c((0,k.E)(!1)),E.Am.error(e.message),a(!1))})).catch((function(e){c((0,k.E)(!1)),E.Am.error(e),a(!1)}))});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"template_search row",children:0!=(null===C||void 0===C?void 0:C.length)&&(0,y.jsxs)("div",{className:"col-12 inner_search",children:[(0,y.jsx)("input",{type:"text",placeholder:"Search By Rule Name...",value:P,onChange:function(e){return function(e){I(e.target.value)}(e)}}),(0,y.jsx)("button",{className:" blue_btn ms-1",type:"submit",onClick:function(){return R(U,H,P)},children:"Search"}),(0,y.jsx)("button",{className:"border_btn ms-1",type:"button",onClick:function(){I(""),R(U,H,"")},children:"Reset"})]})}),(0,y.jsx)(m.ZP,{columns:h,data:C,pagination:!0,paginationServer:!0,selectableRows:!0,onSelectedRowsChange:function(e){d(e.selectedRows.map((function(e){return e._id})))},onChangeRowsPerPage:function(e){L(parseInt(e)),R(U,e)},paginationPerPage:H,paginationTotalRows:O||0,onChangePage:function(e){R(e)},customStyles:p,progressComponent:(0,y.jsx)(Z.Z,{style:{height:"550px"}}),fixedHeader:!0}),(0,y.jsx)("div",{className:"col-12 d-flex justify-content-center pt-3",children:0!=u.length&&(0,y.jsx)("button",{className:"btn save col-2 m-2",type:"button",onClick:function(){return q()},children:"Import Rule"})})]})};var ce=function(e){var n=(0,i.I0)(),t=e.selectedCampagin,o=e.getRules,l=e.setToTemplateModal,u=(e.timeZoneCountry,(0,s.useState)({pageNo:1,perPage:10})),d=(0,r.Z)(u,2),h=d[0],f=(d[1],(0,s.useState)()),v=(0,r.Z)(f,2),j=v[0],N=v[1],b=[{name:"",width:"50px",selector:function(e){return e.isTemplate},cell:function(e){return(0,y.jsx)("input",{type:"checkbox",checked:L.includes(e._id),onChange:function(){return oe(e._id)}})}},{name:"Rule Name",selector:function(e){return e.ruleName},sortable:!0},{name:"Conditions",width:"200px",cell:function(e){var n;return(0,y.jsx)("div",{className:"rule_type",children:null===e||void 0===e||null===(n=e.conditions)||void 0===n?void 0:n.map((function(e,n){return T(n,null===e||void 0===e?void 0:e.conditionType,null===e||void 0===e?void 0:e.conditionOperator,null===e||void 0===e?void 0:e.conditionValue,null===e||void 0===e?void 0:e.conditionValueType)}))})}},{name:"Action Type",width:"200px",selector:function(e){return e.actionType},cell:function(e){var n,a,c,r,s="Number"==(null===e||void 0===e?void 0:e.actionType.actionValueType)?g()(t.currencyCode):"% of budget";return"Paused"==(null===e||void 0===e||null===(n=e.actionType)||void 0===n?void 0:n.actionName)?"Campaign Paused":"Enabled"==(null===e||void 0===e||null===(a=e.actionType)||void 0===a?void 0:a.actionName)?"Campaign Enabled":"".concat(null===e||void 0===e||null===(c=e.actionType)||void 0===c?void 0:c.actionName," budget by ").concat(null===e||void 0===e||null===(r=e.actionType)||void 0===r?void 0:r.actionValue).concat(s)}},{name:"Rule Times",width:"200px",selector:function(e){return e.times},cell:function(e){var n=e.times.map((function(e){return S()(e,"HH:mm").format("hh:mm A")})).join(", ");return(0,y.jsx)("div",{className:"rule_type",children:n})}}],C=(0,s.useState)([{key:"GREATER_THAN",value:">"},{key:"LESS_THAN_OR_EQUAL_TO",value:"<="},{key:"GREATER_THAN_OR_EQUAL_TO",value:">="},{key:"LESS_THAN",value:"<"},{key:"EQUAL_TO",value:"=="}]),A=(0,r.Z)(C,2),w=A[0],T=(A[1],function(e,n,t,a,c){var r=null===w||void 0===w?void 0:w.find((function(e){return e.key==t})).value,s="Number"==c?"":"% of budget";return(0,y.jsxs)("div",{children:[0==e?"":"And"," ",n," ",r," ",a,s]},e)}),I=function(e){n((0,k.E)(!0));var a=(0,x.Z)({},e);D(null===t||void 0===t?void 0:t.profileId,a).then((function(e){var t;e.isSuccess&&(N(e.data),B(null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return e.isTemplate})).map((function(e){return e._id}))),n((0,k.E)(!1)),G(null===e||void 0===e?void 0:e.totalRecords),X(e.currentPageNo))})).catch((function(e){E.Am.error("somthing went wrong!!")}))},z=(0,s.useState)([]),H=(0,r.Z)(z,2),L=H[0],B=H[1];(0,s.useEffect)((function(){I(h)}),[]);var O=(0,s.useState)(10),M=(0,r.Z)(O,2),V=M[0],Y=M[1],U=(0,s.useState)(0),K=(0,r.Z)(U,2),q=K[0],G=K[1],Q=(0,s.useState)(1),W=(0,r.Z)(Q,2),X=(W[0],W[1]),J=(0,s.useState)(10),$=(0,r.Z)(J,2),ee=$[0],ne=($[1],function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(n),I({pageNo:t,perPage:n});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),te=(0,s.useState)([]),ae=(0,r.Z)(te,2),ce=(ae[0],ae[1],function(){n((0,k.E)(!0)),function(e){return _.Z.post("".concat(P,"addTemplate"),e,{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))}({profileId:null===t||void 0===t?void 0:t.profileId,ruleIds:L}).then((function(e){e.isSuccess?(n((0,k.E)(!1)),E.Am.success(e.message),o(1,10),G(e.totalRecords),l(!1)):(n((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){n((0,k.E)(!1)),E.Am.error(e),l(!1)}))}),re=(0,s.useState)(""),se=(0,r.Z)(re,2),oe=(se[0],se[1],function(e){L.includes(e)?B(L.filter((function(n){return n!==e}))):B([].concat((0,F.Z)(L),[e]))});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(m.ZP,{columns:b,data:j,pagination:!0,paginationServer:!0,paginationPerPage:V,paginationTotalRows:q||0,customStyles:p,progressComponent:(0,y.jsx)(Z.Z,{style:{height:"550px"}}),fixedHeader:!0,onChangePage:function(e){I({pageNo:e,perPage:ee})},onChangeRowsPerPage:ne}),(0,y.jsx)("div",{className:"col-12 d-flex justify-content-center pt-3",children:(0,y.jsx)("button",{className:"btn save col-2 m-2",type:"button",onClick:function(){return ce()},children:"Add To Template"})})]})};var re=function(e){var n=e.selectedCampagin,t=e.timeZoneCountry,a=e.switchTab,c=[{name:"Active",width:"80px",selector:function(e){return e.isActive},cell:function(e){return(0,y.jsx)("div",{className:" form-check form-switch",children:(0,y.jsx)("input",{className:"form-check-input",type:"checkbox",name:"isActive",onChange:function(n){return hn(n,e._id)},checked:e.isActive,value:e.isActive,style:{width:"50px",height:"20px"}})})}},{name:"Rule Name",width:"300px",selector:function(e){return e.ruleName},sortable:!0},{name:"Conditions",width:"230px",cell:function(e){var n;return(0,y.jsx)("div",{className:"rule_type",children:null===e||void 0===e||null===(n=e.conditions)||void 0===n?void 0:n.map((function(e,n){return d(n,null===e||void 0===e?void 0:e.conditionType,null===e||void 0===e?void 0:e.conditionOperator,null===e||void 0===e?void 0:e.conditionValue,null===e||void 0===e?void 0:e.conditionValueType)}))})}},{name:"Action Type",width:"230px",selector:function(e){return e.actionType},cell:function(e){var t,a,c,r,s,o,i="Number"==(null===e||void 0===e?void 0:e.actionType.actionValueType)?g()(n.currencyCode):"% of budget";return"Paused"==(null===e||void 0===e||null===(t=e.actionType)||void 0===t?void 0:t.actionName)?"Campaign Paused":"Enabled"==(null===e||void 0===e||null===(a=e.actionType)||void 0===a?void 0:a.actionName)?"Campaign Enabled":"setBudget"==(null===e||void 0===e||null===(c=e.actionType)||void 0===c?void 0:c.actionName)?"Set Budget by ".concat(null===e||void 0===e||null===(r=e.actionType)||void 0===r?void 0:r.actionValue).concat(i):"".concat(null===e||void 0===e||null===(s=e.actionType)||void 0===s?void 0:s.actionName," budget by ").concat(null===e||void 0===e||null===(o=e.actionType)||void 0===o?void 0:o.actionValue).concat(i)}},{name:"Rule Times",width:"180px",selector:function(e){return e.times},cell:function(e){return e.times.map((function(e){return S()(e,"HH:mm").format("hh:mm A")})).join(", ")}},{name:"Assign Campaigns",sortable:!0,cell:function(e){var n,t;return(0,y.jsx)(y.Fragment,{children:0==(null===e||void 0===e||null===(n=e.campaignIds)||void 0===n?void 0:n.length)?0:(0,y.jsx)(te.rU,{className:"rule_type",style:{cursor:"pointer"},onClick:function(){Pe(e.campaignIds),ze(e._id),pn(e.campaignIds,e._id)},children:null===e||void 0===e||null===(t=e.campaignIds)||void 0===t?void 0:t.length})})}},{name:"Updated Date",sortable:!0,width:"230px",selector:function(e){return e.updatedAt},cell:function(e){return S()(null===e||void 0===e?void 0:e.updatedAt).tz(t&&t).format("MM/DD/YYYY hh:mm:ss A z")}},{name:"Action",selector:function(e){return e.isActive},width:"200px",cell:function(e){return(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(H.Uf_,{size:18,title:"Edit Rule",color:"green",style:{cursor:"pointer"},className:"me-2",onClick:function(){ge(!0),Ne(e._id)}}),(0,y.jsx)(f.VPh,{title:"Delete Rule",className:"me-2",color:"red",size:20,style:{cursor:"pointer"},onClick:function(){Y(!0),F(e._id)}}),(0,y.jsx)("button",{title:"Assign Campaigns",className:"btn btn-warning",onClick:function(){N(!0),Ce(e._id),Te(e.campaignIds)},children:"Assign"})]})}}],o=(0,s.useState)([{key:"GREATER_THAN",value:">"},{key:"LESS_THAN_OR_EQUAL_TO",value:"<="},{key:"GREATER_THAN_OR_EQUAL_TO",value:">="},{key:"LESS_THAN",value:"<"},{key:"EQUAL_TO",value:"=="}]),l=(0,r.Z)(o,2),u=l[0],d=(l[1],function(e,n,t,a,c){var r=null===u||void 0===u?void 0:u.find((function(e){return e.key==t})).value,s="Number"==c?"":"% of budget";return(0,y.jsxs)("div",{children:[0==e?"":"And"," ",n," ",r," ",a,s]},e)}),v=(0,s.useState)(!1),x=(0,r.Z)(v,2),j=x[0],N=x[1],b=(0,s.useState)(),C=(0,r.Z)(b,2),A=C[0],w=C[1],T=(0,i.I0)(),I=(0,s.useState)(),z=(0,r.Z)(I,2),L=z[0],F=z[1],O=(0,s.useState)(!1),M=(0,r.Z)(O,2),V=M[0],Y=M[1],K=(0,s.useState)(!1),q=(0,r.Z)(K,2),G=q[0],W=q[1],J=(0,s.useState)(10),$=(0,r.Z)(J,2),ee=$[0],re=$[1],se=(0,s.useState)(0),oe=(0,r.Z)(se,2),ie=oe[0],le=oe[1],ue=(0,s.useState)(1),de=(0,r.Z)(ue,2),me=de[0],pe=de[1],he=(0,s.useState)(!1),fe=(0,r.Z)(he,2),ve=fe[0],ge=fe[1],xe=(0,s.useState)(),je=(0,r.Z)(xe,2),ye=je[0],Ne=je[1],be=(0,s.useState)(),Se=(0,r.Z)(be,2),Ze=Se[0],Ce=Se[1],Ee=(0,s.useState)(),Ae=(0,r.Z)(Ee,2),we=Ae[0],Te=Ae[1],ke=(0,s.useState)(),_e=(0,r.Z)(ke,2),Pe=(_e[0],_e[1]),Ie=(0,s.useState)(),Re=(0,r.Z)(Ie,2),De=Re[0],ze=Re[1],He=(0,s.useState)(),Le=(0,r.Z)(He,2),Be=Le[0],Fe=Le[1],Oe=function(e,t){T((0,k.E)(!0));var a={pageNo:e||me,perPage:t||ee};D(null===n||void 0===n?void 0:n.profileId,a).then((function(e){e.isSuccess&&(Fe(e.data),T((0,k.E)(!1)),le(null===e||void 0===e?void 0:e.totalRecords),pe(e.currentPageNo))})).catch((function(e){E.Am.error("somthing went wrong!!")}))};(0,s.useEffect)((function(){"budget"==a&&Oe()}),[a]);var Me=(0,s.useState)(!1),Ve=(0,r.Z)(Me,2),Ye=Ve[0],Ue=Ve[1],Ke=(0,s.useState)([]),qe=(0,r.Z)(Ke,2),Ge=qe[0],Qe=qe[1],We=(0,s.useState)(""),Xe=(0,r.Z)(We,2),Je=Xe[0],$e=Xe[1],en=(0,s.useState)(!1),nn=(0,r.Z)(en,2),tn=(nn[0],nn[1],(0,s.useState)(100)),an=(0,r.Z)(tn,2),cn=an[0],rn=an[1],sn=(0,s.useState)(1),on=(0,r.Z)(sn,2),ln=on[0],un=on[1],dn=(0,s.useState)(100),mn=(0,r.Z)(dn,2),pn=(mn[0],mn[1],function(e,n,t){T((0,k.E)(!0)),Q(n||De,{search:t?"":Je,pageNo:Je?1:ln,perPage:100}).then((function(e){e.isSuccess?(T((0,k.E)(!1)),Qe(e.data),Ue(!0),rn(e.totalRecords),un(e.currentPageNo)):(T((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){T((0,k.E)(!1)),E.Am.error(e)}))});(0,s.useEffect)((function(){"budget"==a&&pn()}),[ln]);var hn=function(e,n){(function(e,n){return _.Z.post("".concat(P,"changeStatus/").concat(n),e,{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))})({isActive:e.target.checked},n).then((function(e){e.isSuccess?(E.Am.success(e.message||"Success"),Oe()):E.Am.error(e.message||"error")})).catch((function(e){E.Am.error(e.message||"Something went wrong")}))},fn=(0,s.useState)(!1),vn=(0,r.Z)(fn,2),gn=vn[0],xn=vn[1],jn=(0,s.useState)(!1),yn=(0,r.Z)(jn,2),Nn=yn[0],bn=yn[1];return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"campaign_detail",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{children:"Budget Rules"})}),(0,y.jsxs)("div",{className:"col-6 d-flex align-items-center justify-content-end",children:[(0,y.jsx)("button",{title:"Add to Template",className:"border_btn",onClick:function(){bn(!0)},children:"Add to Template"}),(0,y.jsx)("button",{title:"Add Budget Rule",className:"blue_btn ms-2",onClick:function(){ge(!0),Ne()},children:"Add Budget Rule"}),(0,y.jsx)("button",{title:"Add from Template",className:"border_btn ms-2",onClick:function(){xn(!0)},children:"Add from Template"})]})]}),(0,y.jsx)("div",{className:"bg-white",children:(0,y.jsx)("div",{className:"p-0",children:(0,y.jsx)(m.ZP,{columns:c,data:Be,pagination:!0,paginationServer:!0,onChangeRowsPerPage:function(e){re(parseInt(e)),Oe(me,e)},paginationPerPage:ee,paginationTotalRows:ie||0,onChangePage:function(e){Oe(e)},customStyles:p,progressComponent:(0,y.jsx)(Z.Z,{style:{height:"550px"}}),fixedHeader:!0})})})]}),(0,y.jsxs)(h.Z,{show:ve,className:"model",centered:!0,size:"lg",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return ge(!1)},children:(0,y.jsxs)(h.Z.Title,{children:[ye?"Edit Budget Rule":"Add Budget Rule"," "]})}),(0,y.jsx)(h.Z.Body,{children:(0,y.jsx)(U,{isLoading:G,setIsLoading:W,setEditId:Ne,editId:ye,getRules:Oe,selectedCampagin:n,setShowRules:ge,showRules:ve,handleClose:function(e){ge(!1)},timeZoneCountry:t})})]}),(0,y.jsxs)(h.Z,{show:j,className:"model rules_model",centered:!0,size:"lg",children:[(0,y.jsx)(h.Z.Header,{children:(0,y.jsx)(h.Z.Title,{children:"List of Campaigns "})}),(0,y.jsx)(ne,{selectedCampagin:n,assignId:Ze,campaignIds:we,getRules:Oe,setCampaignModal:N,selectedCampaginId:A,setSelectedCampaginId:w})]}),(0,y.jsxs)(h.Z,{show:Ye,className:"model rules_model",centered:!0,size:"lg",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return Ue(!1)},children:(0,y.jsx)(h.Z.Title,{children:"Associated Campaigns "})}),(0,y.jsx)(h.Z.Body,{children:(0,y.jsxs)("div",{className:"budget_campaign_listing",children:[(0,y.jsxs)("div",{className:"budget_campaign",children:[(0,y.jsx)("input",{type:"text",className:"text_search",placeholder:"Search Here...",value:Je,onChange:function(e){return function(e){$e(e.target.value)}(e)}}),(0,y.jsx)("button",{className:"blue_btn ms-2",onClick:function(){pn()},children:"Search"}),(0,y.jsx)("button",{className:"border_btn ms-2",onClick:function(){$e(""),T((0,k.E)(!0)),Q(De,{search:"",pageNo:ln,perPage:100}).then((function(e){e.isSuccess?(T((0,k.E)(!1)),rn(e.totalRecords),Qe(e.data),un(e.currentPageNo),Ue(!0)):(T((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){T((0,k.E)(!1)),E.Am.error(e)}))},children:"Reset"})]}),(0,y.jsx)("div",{className:"select_list",children:0==(null===Ge||void 0===Ge?void 0:Ge.length)?(0,y.jsx)("h6",{className:"text-center",children:"Campaigns Not Found"}):null===Ge||void 0===Ge?void 0:Ge.map((function(e){return(0,y.jsx)("p",{className:"data_lisiting",children:e.name})}))}),0!=Ge.length&&(0,y.jsx)(X(),{previousLabel:"<<",nextLabel:">>",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:cn/100,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){un(e.selected+1)},containerClassName:"pagination",activeClassName:"active",forcePage:ln-1})]})})]}),(0,y.jsxs)(h.Z,{show:gn,className:"model rules_model",centered:!0,size:"xl",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return xn(!1)},children:(0,y.jsx)(h.Z.Title,{children:"Add from Template"})}),(0,y.jsx)(h.Z.Body,{className:"pt-0",children:(0,y.jsx)(ae,{selectedCampagin:n,getRules:Oe,setTemplateModal:xn})})]}),(0,y.jsxs)(h.Z,{show:Nn,className:"model rules_model",centered:!0,size:"xl",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return bn(!1)},children:(0,y.jsx)(h.Z.Title,{children:"Add To Template"})}),(0,y.jsx)(h.Z.Body,{className:"pt-0",children:(0,y.jsx)(ce,{selectedCampagin:n,getRules:Oe,setToTemplateModal:bn,timeZoneCountry:t})})]}),(0,y.jsx)(B,{showDeleteModal:V,setShowDeleteModal:Y,deleteHandler:function(){var e;T((0,k.E)(!0)),(e=L,_.Z.delete("".concat(P,"deleteRule/").concat(e),{headers:R}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){e.isSuccess?(E.Am.success(e.message),Oe(),T((0,k.E)(!1))):(E.Am.error(e.message),T((0,k.E)(!1))),F()})).catch((function(e){T((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))},name:"Rules"})]})})},se="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/"),oe=localStorage.getItem("customerAuthToken"),ie={Authorization:"Bearer ".concat(oe),"Content-Type":"application/json"};var le=function(e){var n=e.selectedCampagin,t=e.timeZoneCountry,a=e.switchTab,c=[{name:"Report Id",selector:function(e){return e.reportId},sortable:!0},{name:"Ad Product",selector:function(e){return e.adProduct},sortable:!0},{name:"Status",selector:function(e){return e.status},sortable:!0,cell:function(e){return(0,y.jsx)("div",{children:"COMPLETED"==e.status||"SUCCESS"==e.status?(0,y.jsx)("div",{style:{color:"green"},children:e.status}):(0,y.jsx)("div",{style:{color:"red"},children:e.status})})}},{name:"Report Type",selector:function(e){return e.reportTypeId},sortable:!0},{name:"Start Date",selector:function(e){return e.startDate},sortable:!0},{name:"End Date",selector:function(e){return e.endDate},sortable:!0},{name:"Updated At",selector:function(e){return e.updatedAt},sortable:!0,cell:function(e){return S()(null===e||void 0===e?void 0:e.updatedAt).tz(t&&t).format("MM/DD/YYYY hh:mm:ss A z")}}],o=(0,i.I0)(),l=(0,s.useState)(),u=(0,r.Z)(l,2),d=u[0],h=u[1],f=function(e,t){o((0,k.E)(!0));var a={pageNo:e||T,perPage:t||x};(function(e,n){return _.Z.post("".concat(se,"ads/").concat(e,"/getReports"),n,{headers:ie}).then((function(e){return e.data})).catch((function(e){return e.data}))})(null===n||void 0===n?void 0:n.profileId,a).then((function(e){e.isSuccess?(h(e.data),B(e.data[0]),o((0,k.E)(!1)),C(null===e||void 0===e?void 0:e.totalRecords),P(e.currentPageNo)):(h([]),E.Am.error(e.message),o((0,k.E)(!1)))})).catch((function(e){o((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))};(0,s.useEffect)((function(){"report"==a&&f()}),[a]);var v=(0,s.useState)(10),g=(0,r.Z)(v,2),x=g[0],j=g[1],N=(0,s.useState)(0),b=(0,r.Z)(N,2),Z=b[0],C=b[1],A=(0,s.useState)(1),w=(0,r.Z)(A,2),T=w[0],P=w[1],I=(0,s.useState)("Generate Report"),R=(0,r.Z)(I,2),D=(R[0],R[1]),z=(0,s.useState)(""),H=(0,r.Z)(z,2),L=H[0],B=H[1];return(0,s.useEffect)((function(){L&&(S()().tz(t).format("MM/DD/YYYY")==S()(L.endDate).format("MM/DD/YYYY")&&"COMPLETED"!=L.status?D("Check Report Status"):D("Generate Report"))}),[L]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"campaign_detail",children:(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsx)("div",{className:"col",children:(0,y.jsx)("h4",{children:"Reports"})}),(0,y.jsx)("div",{className:"col"})]}),(0,y.jsx)("div",{className:"bg-white",children:(0,y.jsx)("div",{className:"p-0",children:(0,y.jsx)(m.ZP,{columns:c,data:d,pagination:!0,paginationServer:!0,onChangeRowsPerPage:function(e){j(parseInt(e)),f(T,e)},paginationPerPage:x,paginationTotalRows:Z||0,onChangePage:function(e){f(e)},customStyles:p,fixedHeader:!0})})})]})})})},ue=[{countryCode:"US",timezone:"America/Los_Angeles"},{countryCode:"CA",timezone:"America/Los_Angeles"},{countryCode:"MX",timezone:"America/Los_Angeles"},{countryCode:"IN",timezone:"Asia/Kolkata"},{countryCode:"IT",timezone:"Europe/Paris"},{countryCode:"BR",timezone:"America/Sao_Paulo"},{countryCode:"DE",timezone:"Europe/Paris"},{countryCode:"UK",timezone:"Europe/London"},{countryCode:"SE",timezone:"Europe/Stockholm"},{countryCode:"ES",timezone:"Europe/Paris"},{countryCode:"NL",timezone:"Europe/Amsterdam"},{countryCode:"FR",timezone:"Europe/Paris"},{countryCode:"TR",timezone:"Europe/Istanbul"},{countryCode:"PL",timezone:"Europe/Warsaw"}],de=t(8900),me=(t(1097),"".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/campaignTiming/"),localStorage.getItem("customerAuthToken")),pe=("Bearer ".concat(me),t(2426)),he=t.n(pe);"".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/rulesTiming/");var fe=localStorage.getItem("customerAuthToken"),ve=("Bearer ".concat(fe),t(224));var ge="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/adSchedules/"),xe=localStorage.getItem("customerAuthToken"),je={Authorization:"Bearer ".concat(xe),"Content-Type":"application/json"},ye=function(e,n){return _.Z.post("".concat(ge,"updateSchedule/").concat(e),n,{headers:je}).then((function(e){return e.data})).catch((function(e){return e.data}))},Ne=function(e,n){return _.Z.post("".concat(ge,"getAssignCampaigns/").concat(e),n,{headers:je}).then((function(e){return e.data})).catch((function(e){return e.data}))};var be=function(e){var n=e.setAddSchedulerModal,t=e.selectedCampagin,a=e.editId,c=e.editData,r=e.getSchedule,o=e.addFlag,l=e.setAddFlag,u=(0,V.cI)({resolver:(0,Y.X)(ve.gV)}),d=u.register,m=u.handleSubmit,p=u.formState.errors,h=u.reset,f=(u.control,u.setValue),v=(0,i.I0)();return(0,s.useEffect)((function(){c&&h(c),o&&(f("scheduleName",null),l(!1))}),[c]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("form",{className:"mb-4 mt-2",onSubmit:m((function(e){v((0,k.E)(!0));var c={scheduleName:e.scheduleName,profileId:t.profileId,countryCode:t.countryCode,timezone:t.timezone};a?ye(a,c).then((function(e){e.isSuccess?(v((0,k.E)(!1)),E.Am.success(e.message),r()):(v((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){v((0,k.E)(!1)),E.Am.error("Something went wrong, please try again")})):function(e){return _.Z.post("".concat(ge,"createSchedule"),e,{headers:je}).then((function(e){return e.data})).catch((function(e){return e.data}))}(c).then((function(e){e.isSuccess?(v((0,k.E)(!1)),E.Am.success(e.message),r()):(v((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){v((0,k.E)(!1)),E.Am.error("Something went wrong, please try again")})),n(!1)})),children:[(0,y.jsx)("div",{className:"col-10 m-auto mt-2",children:(0,y.jsxs)("div",{className:"col mb-2",children:[(0,y.jsx)("label",{children:"Schedule Name"}),(0,y.jsx)("br",{}),(0,y.jsx)("input",(0,x.Z)((0,x.Z)({type:"text"},d("scheduleName")),{},{className:"input_rule",placeholder:"Enter Schedule name"})),p.scheduleName&&(0,y.jsx)("p",{className:"error",children:p.scheduleName.message})]})}),(0,y.jsxs)("div",{className:"col-12 d-flex justify-content-center pt-3",children:[(0,y.jsx)("button",{className:"btn cancel col-3 m-2",type:"button",onClick:function(){n(!1)},children:"Cancel"}),(0,y.jsx)("button",{className:"btn save col-3 m-2",type:"submit",children:"Apply"})]})]})})},Se="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/adSchedules/"),Ze=localStorage.getItem("customerAuthToken"),Ce={Authorization:"Bearer ".concat(Ze),"Content-Type":"application/json"};var Ee=function(e){var n=e.setTimeModal,t=e.scheduleId,a=e.formData,c=(e.setFormData,e.addFlag),r=e.setAddFlag,o=e.getTime,l=e.timeId,u=(0,V.cI)({resolver:(0,Y.X)(ve.Uy)}),d=u.register,m=u.handleSubmit,p=u.formState.errors,h=u.reset,f=u.setValue,v=u.control,g=(0,i.I0)(),j=[{value:"Sunday",label:"Sunday"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"}];return(0,s.useEffect)((function(){a&&h(a),c&&(f("dayName",null),f("startTime",null),f("endTime",null),r(!1))}),[a]),(0,y.jsxs)("form",{className:"mb-4",onSubmit:m((function(e){g((0,k.E)(!0));var a={dayName:e.dayName,startTime:e.startTime,endTime:e.endTime};l?function(e,n,t){return _.Z.post("".concat(Se,"updateScheduleTime/").concat(n,"/").concat(t),e,{headers:Ce}).then((function(e){return e.data})).catch((function(e){return e.data}))}(a,t,l).then((function(e){e.isSuccess?(g((0,k.E)(!1)),E.Am.success(e.message),o(),n(!1)):(g((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){g((0,k.E)(!1)),E.Am.error("Something went wrong, please try again")})):function(e,n){return _.Z.post("".concat(Se,"createScheduleTime/").concat(n),e,{headers:Ce}).then((function(e){return e.data})).catch((function(e){return e.data}))}(a,t).then((function(e){e.isSuccess?(g((0,k.E)(!1)),E.Am.success(e.message),o(),n(!1)):(g((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){g((0,k.E)(!1)),E.Am.error("Something went wrong, please try again")}))})),children:[(0,y.jsxs)("div",{className:"col-10 m-auto mt-2",children:[(0,y.jsxs)("div",{className:"col mb-2",children:[(0,y.jsx)("label",{children:"Day Of Week"}),(0,y.jsx)("br",{}),(0,y.jsx)(V.Qr,(0,x.Z)((0,x.Z)({control:v,name:"dayName"},d("dayName")),{},{render:function(e){var n=e.field;return(0,y.jsxs)("select",(0,x.Z)((0,x.Z)({className:"form_rule"},n),{},{children:[(0,y.jsx)("option",{hidden:!0,children:"Select"}),j.map((function(e,n){return(0,y.jsx)("option",{value:e.value,children:e.label},n)}))]}))}})),p.dayName&&(0,y.jsx)("p",{className:"error",children:p.dayName.message})]}),(0,y.jsxs)("div",{className:"col mb-2",children:[(0,y.jsx)("label",{children:"Start Time"}),(0,y.jsx)("br",{}),(0,y.jsx)(V.Qr,(0,x.Z)((0,x.Z)({control:v},d("startTime")),{},{render:function(e){var n=e.field;return(0,y.jsx)("input",(0,x.Z)({type:"time",className:"input_rule"},n))}})),p.startTime&&(0,y.jsx)("p",{className:"error",children:p.startTime.message})]}),(0,y.jsxs)("div",{className:"col mb-2",children:[(0,y.jsx)("label",{children:"End Time"}),(0,y.jsx)("br",{}),(0,y.jsx)(V.Qr,(0,x.Z)((0,x.Z)({control:v},d("endTime")),{},{render:function(e){var n=e.field;return(0,y.jsx)("input",(0,x.Z)({type:"time",className:"input_rule"},n))}})),p.endTime&&(0,y.jsx)("p",{className:"error",children:p.endTime.message})]})]}),(0,y.jsxs)("div",{className:"col-12 d-flex justify-content-center pt-3",children:[(0,y.jsx)("button",{className:"btn cancel col-3 m-2",type:"button",onClick:function(){return n(!1)},children:"Cancel"}),(0,y.jsx)("button",{className:"btn save col-3 m-2",type:"submit",children:"Apply"})]})]})};var Ae=function(e){var n=e.setDetailFlag,t=e.selectedCampagin,a=e.scheduleId,c=e.copyallIds,o=e.getSchedule,l=(0,i.I0)(),u=[{name:"Active",selector:function(e){return e.isActive},cell:function(e){return(0,y.jsx)("div",{className:" form-check form-switch",children:(0,y.jsx)("input",{className:"form-check-input",type:"checkbox",name:"isActive",style:{width:"50px",height:"20px"},onChange:function(n){return xe(n,e._id)},checked:e.isActive,value:e.isActive})})}},{name:"Day Of Week",selector:function(e){return e.dayName}},{name:"Start Time",selector:function(e){return he()(e.startTime,"HH:mm").format("hh:mm A")}},{name:"End Time",selector:function(e){return he()(e.endTime,"HH:mm").format("hh:mm A")}},{name:"Action",selector:function(e){return e.isActive},width:"250px",cell:function(e){return(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(H.Uf_,{size:18,color:"green",style:{cursor:"pointer"},className:"me-2",onClick:function(){ge(!0),S(e),R(e._id)}}),(0,y.jsx)(f.VPh,{className:"me-2",color:"red",size:20,style:{cursor:"pointer"},onClick:function(){me(!0),R(e._id)}})]})}}],d=(0,s.useState)([]),v=(0,r.Z)(d,2),g=v[0],x=v[1],j=(0,s.useState)(),N=(0,r.Z)(j,2),b=N[0],S=N[1],Z=(0,s.useState)(!1),C=(0,r.Z)(Z,2),A=C[0],w=C[1],T=(0,s.useState)(),P=(0,r.Z)(T,2),I=P[0],R=P[1],D=(0,s.useState)([]),z=(0,r.Z)(D,2),L=z[0],F=z[1],O=(0,s.useState)(),M=(0,r.Z)(O,2),V=M[0],Y=M[1],U=(0,s.useState)([]),K=(0,r.Z)(U,2),q=K[0],G=K[1],Q=(0,s.useState)(10),W=(0,r.Z)(Q,2),X=W[0],J=W[1],$=(0,s.useState)(0),ne=(0,r.Z)($,2),te=ne[0],ae=ne[1],ce=(0,s.useState)(1),re=(0,r.Z)(ce,2),se=re[0],oe=re[1],ie=function(e,n){l((0,k.E)(!0)),function(e,n){return _.Z.post("".concat(Se,"getScheduleTimes/").concat(n),e,{headers:Ce}).then((function(e){return e.data})).catch((function(e){return e.data}))}({pageNo:e||se,perPage:n||X},a).then((function(e){null!==e&&void 0!==e&&e.isSuccess&&(Y(e.scheduleName),x(e.data),l((0,k.E)(!1)),ae(null===e||void 0===e?void 0:e.totalRecords),oe(e.currentPageNo))})).catch((function(e){l((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))};(0,s.useEffect)((function(){a&&ie()}),[a]);var le=(0,s.useState)(!1),ue=(0,r.Z)(le,2),de=ue[0],me=ue[1],pe=(0,s.useState)(!1),fe=(0,r.Z)(pe,2),ve=fe[0],ge=fe[1],xe=function(e,n){l((0,k.E)(!0)),function(e,n,t){return _.Z.post("".concat(Se,"changeScheduleStatus/").concat(n,"/").concat(t),e,{headers:Ce}).then((function(e){return e.data})).catch((function(e){return e.data}))}({isActive:e.target.checked},a,n).then((function(e){e.isSuccess?(E.Am.success(e.message||"Success"),ie(),l((0,k.E)(!1))):(E.Am.error(e.message||"error"),l((0,k.E)(!1)))})).catch((function(e){l((0,k.E)(!1)),E.Am.error(e.message||"Something went wrong")}))};return(0,s.useEffect)((function(){c&&F(c)}),[c]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"time",children:[(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{children:V})}),(0,y.jsxs)("div",{className:"col-6 d-flex align-items-center justify-content-end",children:[(0,y.jsx)("button",{className:"mb-0 blue_btn rule_btn mt-0",onClick:function(){return n(!1)},children:"Back To Schedules"}),(0,y.jsx)("button",{className:" blue_btn border_btn mt-0",onClick:function(){ge(!0),w(!0),R()},children:"Add Time"})]})]}),(0,y.jsx)("div",{className:"bg-white",children:(0,y.jsx)("div",{className:"p-0",children:(0,y.jsx)(m.ZP,{columns:u,data:g,pagination:!0,paginationServer:!0,onChangeRowsPerPage:function(e){J(parseInt(e)),ie(se,e)},paginationPerPage:X,paginationTotalRows:te||0,onChangePage:function(e){ie(e)},customStyles:p,fixedHeader:!0})})}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("h5",{children:"Associated Campaigns"}),(0,y.jsx)(ee,{campaignIds:c,selectedCampagin:t,allIds:L,setAllIds:F,excelSelected:q,setExcelSelected:G})]}),(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,y.jsx)("button",{className:"btn cancel col-3 m-2 ",type:"button",onClick:function(){return function(){var e=L.map((function(e){return String(e)}));ye(a,{campaignIds:e}).then((function(e){e.isSuccess?(l((0,k.E)(!1)),E.Am.success(e.message),n(!1),o()):(l((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){l((0,k.E)(!1)),E.Am.error("Something went wrong, please try again")}))}()},children:"Save"})}),(0,y.jsxs)(h.Z,{show:ve,className:"model rules_model ",centered:!0,children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return ge(!1)},children:(0,y.jsxs)(h.Z.Title,{children:[I?"Edit":"Add"," Time "]})}),(0,y.jsx)(Ee,{setTimeModal:ge,scheduleId:a,formData:b,setFormData:S,addFlag:A,setAddFlag:w,getTime:ie,timeId:I})]}),(0,y.jsx)(B,{showDeleteModal:de,setShowDeleteModal:me,deleteHandler:function(){l((0,k.E)(!0)),function(e,n){return _.Z.delete("".concat(Se,"deleteScheduleTime/").concat(e,"/").concat(n),{headers:Ce}).then((function(e){return e.data})).catch((function(e){return e.data}))}(a,I).then((function(e){e.isSuccess?(E.Am.success(e.message),ie(),l((0,k.E)(!1))):(E.Am.error(e.message),l((0,k.E)(!1))),R()})).catch((function(e){l((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))},name:"Time"})]})})};var we=function(e){var n=e.selectedCampagin,t=e.timeZoneCountry,a=e.switchTab,c=(0,i.I0)(),o=(0,s.useState)(!1),l=(0,r.Z)(o,2),u=l[0],d=l[1],v=(0,s.useState)(null),g=(0,r.Z)(v,2),x=g[0],j=g[1],N=(0,s.useState)([]),b=(0,r.Z)(N,2),S=b[0],Z=b[1],C=(0,s.useState)(),A=(0,r.Z)(C,2),w=(A[0],A[1]),T=(0,s.useState)(),P=(0,r.Z)(T,2),I=P[0],R=P[1];(0,s.useEffect)((function(){d(!1)}),[a]);var D=[{name:"Schedule Name",selector:function(e){return e.scheduleName},cell:function(e){return(0,y.jsx)(te.rU,{to:!0,onClick:function(){d(!0),j(e._id),Z(e.campaignIds)},children:e.scheduleName})}},{name:"# of Campaigns",selector:function(e){return e.campagin},cell:function(e){return(0,y.jsxs)(te.rU,{to:!0,onClick:function(){w(e.campaignIds),R(e._id),q(e.campaignIds,e._id)},children:[" ",e.campaignIds.length]})}},{name:"Updated At",selector:function(e){return e.updatedAt},cell:function(e){return he()(null===e||void 0===e?void 0:e.updatedAt).tz(t&&t).format("MM/DD/YYYY hh:mm:ss A z")}},{name:"Action",selector:function(e){return e.isActive},width:"250px",cell:function(e){return(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(H.Uf_,{size:18,color:"green",style:{cursor:"pointer"},className:"me-2",onClick:function(){ce(e._id),xe(!0),ie(e)}}),(0,y.jsx)(f.VPh,{className:"me-2",color:"red",size:20,style:{cursor:"pointer"},onClick:function(){ke(!0),Ce(e._id)}})]})}}],z=(0,s.useState)(!1),L=(0,r.Z)(z,2),O=L[0],M=L[1],V=(0,s.useState)(),Y=(0,r.Z)(V,2),U=Y[0],K=Y[1],q=function(e,n,t){c((0,k.E)(!0)),Ne(n||I,{search:t?"":Ue,pageNo:Ue?1:$e,perPage:100}).then((function(e){e.isSuccess?(c((0,k.E)(!1)),K(e.data),M(!0),We(e.totalRecords),en(e.currentPageNo)):(c((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){c((0,k.E)(!1)),E.Am.error(e)}))},G=(0,s.useState)([]),Q=(0,r.Z)(G,2),W=Q[0],$=Q[1],ee=(0,s.useState)(null),ne=(0,r.Z)(ee,2),ae=ne[0],ce=ne[1],re=(0,s.useState)(null),se=(0,r.Z)(re,2),oe=se[0],ie=se[1],le=(0,s.useState)(!1),ue=(0,r.Z)(le,2),de=ue[0],me=ue[1],pe=(0,s.useState)(!1),fe=(0,r.Z)(pe,2),ve=fe[0],xe=fe[1],ye=(0,s.useState)(),Se=(0,r.Z)(ye,2),Ze=Se[0],Ce=Se[1],Ee=(0,s.useState)(!1),we=(0,r.Z)(Ee,2),Te=we[0],ke=we[1],_e=(0,s.useState)(10),Pe=(0,r.Z)(_e,2),Ie=Pe[0],Re=Pe[1],De=(0,s.useState)(0),ze=(0,r.Z)(De,2),He=ze[0],Le=ze[1],Be=(0,s.useState)(1),Fe=(0,r.Z)(Be,2),Oe=Fe[0],Me=Fe[1],Ve=(0,s.useState)(""),Ye=(0,r.Z)(Ve,2),Ue=Ye[0],Ke=Ye[1],qe=(0,s.useState)(100),Ge=(0,r.Z)(qe,2),Qe=Ge[0],We=Ge[1],Xe=(0,s.useState)(1),Je=(0,r.Z)(Xe,2),$e=Je[0],en=Je[1];(0,s.useEffect)((function(){"scheduler"==a&&q()}),[$e]);var nn=function(e,t){c((0,k.E)(!0));var a={pageNo:e||Oe,perPage:t||Ie};(function(e,n){return _.Z.post("".concat(ge).concat(e,"/getSchedules"),n,{headers:je}).then((function(e){return e.data})).catch((function(e){return e.data}))})(null===n||void 0===n?void 0:n.profileId,a).then((function(e){null!==e&&void 0!==e&&e.isSuccess&&($(e.data),c((0,k.E)(!1)),Le(null===e||void 0===e?void 0:e.totalRecords),Me(e.currentPageNo))})).catch((function(e){E.Am.error("somthing went wrong!!")}))};(0,s.useEffect)((function(){"scheduler"==a&&nn()}),[a]);var tn=function(){var e;c((0,k.E)(!0)),(e=null===n||void 0===n?void 0:n.profileId,_.Z.get("".concat(ge).concat(e,"/exportSheet"),{headers:je}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){if(null!==e&&void 0!==e&&e.isSuccess){var n=J.P6.book_new(),t=e.schedules.map((function(e){return[e.scheduleName,e.dayName,e.startTime,e.endTime]})),a=J.P6.aoa_to_sheet([["Schedule Name","Day","Start Time","End Time"]].concat((0,F.Z)(t))),r=e.campaigns.map((function(e){return[e.campaignId,e.campaignName,e.scheduleName]})),s=J.P6.aoa_to_sheet([["Campaign ID","Campaign Name","Schedule Name"]].concat((0,F.Z)(r)));J.P6.book_append_sheet(n,a,"Schedules"),J.P6.book_append_sheet(n,s,"Campaigns");var o=J.cW(n,{bookType:"xlsx",type:"buffer"}),i=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=URL.createObjectURL(i),u=document.createElement("a");u.href=l,u.download="export-schedules.xlsx",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l),c((0,k.E)(!1)),E.Am.success("Export Schedule Download successfully!!")}else c((0,k.E)(!1))})).catch((function(e){c((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"campaign_detail scheduler",children:u?(0,y.jsx)(Ae,{setDetailFlag:d,selectedCampagin:n,scheduleId:x,getSchedule:nn,copyallIds:S}):(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col",children:(0,y.jsx)("h4",{children:"Campaign Schedules"})}),(0,y.jsxs)("div",{className:"col",children:[(0,y.jsx)("button",{className:" blue_btn rule_btn mt-0",onClick:function(){me(!0),ce(""),xe(!0)},children:"Create Schedule"}),(0,y.jsx)("button",{className:" blue_btn rule_btn mt-0",onClick:function(){return tn()},children:"Export Schedules"})]})]}),(0,y.jsx)("div",{className:"bg-white",children:(0,y.jsx)("div",{className:"p-0",children:(0,y.jsx)(m.ZP,{columns:D,data:W,pagination:!0,paginationServer:!0,onChangeRowsPerPage:function(e){Re(parseInt(e)),nn(Oe,e)},paginationPerPage:Ie,paginationTotalRows:He||0,onChangePage:function(e){nn(e)},customStyles:p,fixedHeader:!0})})}),(0,y.jsxs)(h.Z,{show:ve,className:"model rules_model ",centered:!0,children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return xe(!1)},children:(0,y.jsxs)(h.Z.Title,{children:[ae?"Edit":"Add"," Schedule"]})}),(0,y.jsx)(be,{addSchedulerModal:ve,setAddSchedulerModal:xe,selectedCampagin:n,editId:ae,editData:oe,getSchedule:nn,addFlag:de,setAddFlag:me})]}),(0,y.jsxs)(h.Z,{show:O,className:"model rules_model",centered:!0,size:"lg",children:[(0,y.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return M(!1)},children:(0,y.jsx)(h.Z.Title,{children:"Associated Campaigns "})}),(0,y.jsx)(h.Z.Body,{children:(0,y.jsxs)("div",{className:"budget_campaign_listing",children:[(0,y.jsxs)("div",{className:"budget_campaign",children:[(0,y.jsx)("input",{type:"text",className:"text_search",placeholder:"Search Here...",value:Ue,onChange:function(e){return function(e){Ke(e.target.value)}(e)}}),(0,y.jsx)("button",{className:"blue_btn ms-2",onClick:function(){q()},children:"Search"}),(0,y.jsx)("button",{className:"border_btn ms-2",onClick:function(){Ke(""),c((0,k.E)(!0)),Ne(I,{search:"",pageNo:$e,perPage:100}).then((function(e){e.isSuccess?(c((0,k.E)(!1)),We(e.totalRecords),K(e.data),en(e.currentPageNo),M(!0)):(c((0,k.E)(!1)),E.Am.error(e.message))})).catch((function(e){c((0,k.E)(!1)),E.Am.error(e)}))},children:"Reset"})]}),(0,y.jsx)("div",{className:"select_list",children:0==(null===U||void 0===U?void 0:U.length)?(0,y.jsx)("h6",{className:"text-center",children:"Campaigns Not Found"}):null===U||void 0===U?void 0:U.map((function(e){return(0,y.jsx)("p",{className:"data_lisiting",children:e.name})}))}),0!=(null===U||void 0===U?void 0:U.length)&&(0,y.jsx)(X(),{previousLabel:"<<",nextLabel:">>",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:Qe/100,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){en(e.selected+1)},containerClassName:"pagination",activeClassName:"active",forcePage:$e-1})]})})]}),(0,y.jsx)(B,{showDeleteModal:Te,setShowDeleteModal:ke,deleteHandler:function(){var e;c((0,k.E)(!0)),(e=Ze,_.Z.delete("".concat(ge,"deleteSchedule/").concat(e),{headers:je}).then((function(e){return e.data})).catch((function(e){return e.data}))).then((function(e){e.isSuccess?(E.Am.success(e.message),nn(),c((0,k.E)(!1))):(E.Am.error(e.message),c((0,k.E)(!1))),Ce()})).catch((function(e){c((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))},name:"Campaign Schedules"})]})})})},Te=("".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/rulesSchedules/"),localStorage.getItem("customerAuthToken"));"Bearer ".concat(Te);"".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/ads/");var ke=localStorage.getItem("customerAuthToken");"Bearer ".concat(ke);"".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/ads/");var _e=localStorage.getItem("customerAuthToken");"Bearer ".concat(_e);var Pe="".concat("https://adsexpertapi.agilensmartservices.com","/api/amazon/ads/"),Ie=localStorage.getItem("customerAuthToken"),Re={Authorization:"Bearer ".concat(Ie),"Content-Type":"application/json"},De=function(e,n){return _.Z.post("".concat(Pe).concat(e,"/getCampaignHistory"),n,{headers:Re}).then((function(e){return e.data})).catch((function(e){return e.data}))},ze=t(919);t(4197);var He=function(e){var n=e.selectedCampagin,t=e.timeZoneCountry,a=e.switchTab,c=[{name:"Name",id:"id",width:"150px",sortable:!0,selector:function(e){return e.runName}},{name:"Campaigns",width:"350px",id:"name",sortable:!0,selector:function(e){return e.name}},{name:"Before Status",width:"150px",selector:function(e){return e.fromStatus},sortable:!0,cell:function(e){return(0,y.jsx)("p",{className:"".concat("ENABLED"===e.fromStatus?"enable":"").concat("PAUSED"===e.fromStatus?"pause":"").concat("ARCHIVED"===e.fromStatus?"archived":"").concat("ENDED"===e.fromStatus?"ended":""," p-0 m-0"),children:e.fromStatus?e.fromStatus:"-"})}},{name:"After Status",width:"150px",selector:function(e){return e.toStatus},sortable:!0,cell:function(e){return(0,y.jsx)("p",{className:"".concat("ENABLED"===e.toStatus?"enable":"").concat("PAUSED"===e.toStatus?"pause":"").concat("ARCHIVED"===e.toStatus?"archived":"").concat("ENDED"===e.toStatus?"ended":""," p-0 m-0"),children:e.toStatus?e.toStatus:"-"})}},{name:"Before Budget",selector:function(e){return e.fromBudget},width:"150px",sortable:!0,cell:function(e){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"budgetBox",children:(0,y.jsx)("div",{className:"mt-2 px-1",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead d-flex justify-centent-center align-items-center",children:e.fromBudget?(0,y.jsxs)(y.Fragment,{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.fromBudget.toFixed(2)]}):"-"})})})})}},{name:"After Budget",selector:function(e){return e.toBudget},width:"150px",sortable:!0,cell:function(e){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"budgetBox",children:(0,y.jsx)("div",{className:"mt-2 px-1",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead d-flex justify-centent-center align-items-center",children:e.toBudget?(0,y.jsxs)(y.Fragment,{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.toBudget.toFixed(2)]}):"-"})})})})}},{name:"Date & Time",selector:function(e){return e.updatedAt},sortable:!0,width:"250px",cell:function(e){return S()(null===e||void 0===e?void 0:e.updatedAt).tz(t&&t).format("MM/DD/YYYY hh:mm:ss A z")}},{name:"Campaign Type",selector:function(e){return e.type},width:"200px",sortable:!0,cell:function(e){return(0,y.jsx)("div",{className:"flex-column",children:(0,y.jsx)("p",{className:"p-0 m-0 tblHead",children:e.type})})}},{name:"Spend",selector:function(e){return e.spend},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.spend.toFixed(2)]})}},{name:"Sales",selector:function(e){return e.sales},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.sales.toFixed(2)]})}},{name:"ACOS",selector:function(e){return e.acos},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[e.acos.toFixed(2),"%"]})}},{name:"ROAS",selector:function(e){return e.roas},sortable:!0,cell:function(e){return(0,y.jsx)("div",{children:e.roas})}},{name:"Impressions",selector:function(e){return e.impressions},sortable:!0,cell:function(e){return(0,y.jsx)("div",{children:e.impressions})}},{name:"CPC",selector:function(e){return e.cpc},sortable:!0,cell:function(e){return(0,y.jsxs)("div",{children:[g()(null===e||void 0===e?void 0:e.currencyCode),e.cpc.toFixed(2)]})}},{name:"Clicks",selector:function(e){return e.clicks},sortable:!0},{name:"Orders",selector:function(e){return e.orders},sortable:!0}],o=(0,i.I0)(),l=(0,s.useState)(),u=(0,r.Z)(l,2),d=u[0],h=u[1],f=(0,s.useState)(),v=(0,r.Z)(f,2),x=v[0],j=v[1],N=(0,s.useState)(),b=(0,r.Z)(N,2),Z=(b[0],b[1],(0,s.useState)()),C=(0,r.Z)(Z,2),A=C[0],w=C[1],T=(0,s.useState)(),_=(0,r.Z)(T,2),P=(_[0],_[1],(0,s.useState)(null===n||void 0===n?void 0:n.timezone)),I=(0,r.Z)(P,2),R=(I[0],I[1],function(e,t){o((0,k.E)(!0));var a={pageNo:e||U,perPage:t||H,searchCampaign:Q||"",startDate:A[0],endDate:A[1]};De(null===n||void 0===n?void 0:n.profileId,a).then((function(e){e.isSuccess?(j(e.data),h(e.data),o((0,k.E)(!1)),M(null===e||void 0===e?void 0:e.totalRecords),K(e.currentPageNo)):(j([]),h([]),E.Am.error(e.message),o((0,k.E)(!1)))})).catch((function(e){o((0,k.E)(!1)),E.Am.error("somthing went wrong!!")}))});(0,s.useEffect)((function(){"campaignHistory"==a&&R()}),[a]),(0,s.useEffect)((function(){var e,t;w([null===(e=S()(new Date).tz((null===n||void 0===n?void 0:n.timezone)&&(null===n||void 0===n?void 0:n.timezone)))||void 0===e?void 0:e.format("YYYY-MM-DD"),null===(t=S()(new Date).tz((null===n||void 0===n?void 0:n.timezone)&&(null===n||void 0===n?void 0:n.timezone)))||void 0===t?void 0:t.format("YYYY-MM-DD")])}),[]);var D=(0,s.useState)(10),z=(0,r.Z)(D,2),H=z[0],L=z[1],B=(0,s.useState)(0),F=(0,r.Z)(B,2),O=F[0],M=F[1],V=(0,s.useState)(1),Y=(0,r.Z)(V,2),U=Y[0],K=Y[1],q=(0,s.useState)(),G=(0,r.Z)(q,2),Q=G[0],W=G[1];return(0,y.jsx)("div",{className:"campaign_detail",children:(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("div",{className:"row row-cols-1 row-cols-lg-2 mb-3",children:[(0,y.jsx)("div",{className:"col col-lg-4 my-2 my-lg-0",children:(0,y.jsx)("h4",{children:"Campaign History"})}),(0,y.jsx)("div",{className:"col col-lg-8",children:(0,y.jsxs)("div",{className:" row row-cols-1 row-cols-lg-2  d-flex justify-content-end",children:[(0,y.jsxs)("div",{className:"col col-lg-4 campaign_search",children:[(0,y.jsx)("input",{type:"text",className:"text_search",placeholder:"Search...",onChange:function(e){""===e.target.value&&j(d),W(e.target.value)}}),(0,y.jsx)("button",{className:"search_go",onClick:function(){o((0,k.E)(!0));var e={pageNo:U,perPage:H,searchCampaign:Q||"",startDate:A[0],endDate:A[1]};De(null===n||void 0===n?void 0:n.profileId,e).then((function(e){e.isSuccess?(j(e.data),o((0,k.E)(!1)),M(null===e||void 0===e?void 0:e.totalRecords),K(e.currentPageNo)):(j([]),E.Am.error(e.message),o((0,k.E)(!1)))})).catch((function(e){o((0,k.E)(!1)),E.Am.error("somthing went wrong 2!!")}))},children:"GO"})]}),(0,y.jsx)("div",{className:"col col-lg-4 my-2 my-lg-0",children:(0,y.jsx)(ze.Z,{showOneCalendar:!0,size:"lg",className:"filter_date w-100",placeholder:"Select Date",onChange:function(e){return function(e){var t;t=0==(null===e||void 0===e?void 0:e.length)?[]:[S()(e&&e[0]).format("YYYY-MM-DD"),S()(e&&e[1]).format("YYYY-MM-DD")],w(t),o((0,k.E)(!0));var a={pageNo:U,perPage:H,searchCampaign:Q||"",startDate:t[0],endDate:t[1]};De(null===n||void 0===n?void 0:n.profileId,a).then((function(e){e.isSuccess?(j(e.data),o((0,k.E)(!1)),M(null===e||void 0===e?void 0:e.totalRecords),K(e.currentPageNo)):(j([]),o((0,k.E)(!1)))})).catch((function(e){o((0,k.E)(!1)),E.Am.error("somthing went wrong 2!!")}))}(e)},format:"yyyy-MM-dd",value:[A&&void 0!==A[0]&&S()(A[0],"YYYY-MM-DD").toDate(),A&&void 0!==A[1]&&S()(A[1],"YYYY-MM-DD").toDate()],placement:"bottomEnd",onClean:function(){var e,t;w([null===(e=S()(new Date).startOf("month"))||void 0===e?void 0:e.format("YYYY-MM-DD"),null===(t=S()(new Date).tz((null===n||void 0===n?void 0:n.timezone)&&(null===n||void 0===n?void 0:n.timezone)).endOf("month"))||void 0===t?void 0:t.format("YYYY-MM-DD")])}})})]})})]}),(0,y.jsx)("div",{className:"bg-white",children:(0,y.jsx)("div",{className:"p-0",children:(0,y.jsx)(m.ZP,{columns:c,data:x,pagination:!0,paginationServer:!0,onChangeRowsPerPage:function(e){L(parseInt(e)),R(U,e)},paginationPerPage:H,paginationTotalRows:O||0,onChangePage:function(e){R(e)},customStyles:p,fixedHeader:!0,striped:!0})})})]})})};var Le=function(e){e.setSelectedCampagin,e.setViewCampaign,e.setSwitchTab,e.selectedCampagin;var n,t=e.loader,o=e.switchTab,u=(0,s.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],h=(0,s.useState)(),f=(0,r.Z)(h,2),v=f[0],g=f[1],j=(0,s.useState)([]),N=(0,r.Z)(j,2),b=N[0],S=N[1],Z=(0,s.useState)(!1),C=(0,r.Z)(Z,2),A=(C[0],C[1]),w=(0,s.useState)(),T=(0,r.Z)(w,2),_=T[0],P=T[1],I=(0,s.useState)([]),R=(0,r.Z)(I,2),D=(R[0],R[1]),z=(0,s.useState)([]),H=(0,r.Z)(z,2),L=H[0],B=H[1],O=(0,s.useState)([]),M=(0,r.Z)(O,2),V=M[0],Y=M[1],U=(0,i.I0)();(0,s.useEffect)((function(){"connect"==o&&K()}),[o]);var K=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U((0,k.E)(0!=t)),e.prev=1,e.next=4,U((0,l.Nc)());case 4:c=e.sent,g(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.data),q(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),U((0,k.E)(!1));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,c,r,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U((0,k.E)(0!=t)),n=[],e.prev=2,e.next=5,U((0,l.X4)());case 5:s=e.sent,o=null===s||void 0===s||null===(c=s.data)||void 0===c?void 0:c.data.map((function(e){return(0,x.Z)((0,x.Z)({},e),{},{checked:e.isDashboard})})),S(o),B(o),U((0,k.E)(!1)),(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.data.filter((function(e){return 1==e.isDashboard}))).map((function(e){n.push(e.profileId)})),Y(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),U((0,k.E)(!1));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U((0,k.E)(!0)),b.filter((function(e){return e.checked})).map((function(e){return e.profileId})),n={profileIds:V},e.prev=3,e.next=6,U((0,l.wv)(n));case 6:200===(t=e.sent).status?(U((0,k.E)(!1)),E.Am.success(t.data.message)):(U((0,k.E)(!1)),E.Am.error(t.message)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),U((0,k.E)(!1)),E.Am.error("Something went wrong, please try again");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,t,c,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U((0,k.E)(!0)),n={search:_},e.prev=2,A(!0),e.next=6,U((0,l.TO)(n));case 6:200===(t=e.sent).status?(U((0,k.E)(!1)),r=null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.data.map((function(e){return(0,x.Z)((0,x.Z)({},e),{},{checked:e.isDashboard})})),D(r),B(r)):(U((0,k.E)(!1)),A(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),U((0,k.E)(!1)),A(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"row justify-content-center align-items-center ",children:[v&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h5",{className:"pb-3",children:"Manager Account"}),null===v||void 0===v||null===(n=v.managerAccounts)||void 0===n?void 0:n.map((function(e,n){return(0,y.jsx)("div",{className:"mb-2",onClick:function(){return p(!m)},children:(0,y.jsxs)("div",{className:"managerBox p-2",children:[(0,y.jsx)("p",{className:"px-2 py-0 m-0",children:(0,y.jsx)("b",{children:null===e||void 0===e?void 0:e.managerAccountName})})," ","-",(0,y.jsx)("p",{className:"px-2 py-0 m-0",children:null===e||void 0===e?void 0:e.managerAccountId})]})},n)}))]}),(0,y.jsx)("div",{className:"row mt-2 px-0",children:(null===b||void 0===b?void 0:b.length)>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"col-4",children:(0,y.jsx)("input",{type:"text",className:"account_search p-1 w-100 h-100",onChange:function(e){""===e.target.value&&A(!1),P(e.target.value)},placeholder:"Search account.."})}),(0,y.jsxs)("div",{className:"col-4 d-flex flex-wrap gap-3",children:[(0,y.jsx)("button",{className:"blue_btn",onClick:function(){return Q()},children:"Search"}),(0,y.jsx)("button",{className:"btn btn-primary",onClick:function(){return G()},children:"Save"})]}),(0,y.jsx)("div",{className:"col-4"})]})}),(0,y.jsx)("div",{className:"pt-3",children:(null===L||void 0===L?void 0:L.length)>0&&(null===L||void 0===L?void 0:L.map((function(e,n){return(0,y.jsxs)("div",{className:"p-2 d-flex flex-wrap gap-3",style:{cursor:"pointer"},onClick:function(){},children:[(0,y.jsx)("input",{type:"checkbox",checked:V.includes(e.profileId),onClick:function(n){!function(e,n){e.target.checked?Y([].concat((0,F.Z)(V),[n])):Y(V.filter((function(e){return e!==n})))}(n,e.profileId)}}),(0,y.jsxs)("h6",{className:"p-0 mx-2 my-0",style:{color:"#2E8BC0"},onClick:function(){},children:[e.name," - ",e.type," - ",e.countryCode," -"," ",e.profileId]})]},n)})))})]})})},Be=function(){var e=(0,d.TH)().state||{},n=e.someProp,t=e.campaigProp,m=e.selectedcampagin,p=e.campaignFlags,h=e.loader,f=(0,i.I0)(),v=(0,s.useState)(!1),g=(0,r.Z)(v,2),x=g[0],j=g[1],N=(0,s.useState)(!1),b=(0,r.Z)(N,2),S=b[0],Z=b[1],C=(0,s.useState)(),E=(0,r.Z)(C,2),_=E[0],P=E[1],I=(0,s.useState)(h),R=(0,r.Z)(I,2),D=R[0],z=R[1],H=(0,s.useState)(n||"personal"),L=(0,r.Z)(H,2),B=L[0],F=L[1],O=(0,s.useState)([]),M=(0,r.Z)(O,2),V=(M[0],M[1],(0,s.useState)()),Y=(0,r.Z)(V,2),U=(Y[0],Y[1],(0,s.useState)(!1)),K=(0,r.Z)(U,2),q=(K[0],K[1],(0,s.useState)()),G=(0,r.Z)(q,2),Q=G[0],W=G[1],X=(0,s.useState)(t||!1),J=(0,r.Z)(X,2),$=J[0],ee=J[1],ne=(0,s.useState)(m||""),te=(0,r.Z)(ne,2),ae=te[0],ce=(te[1],(0,s.useState)(p||!1)),se=(0,r.Z)(ce,2),oe=se[0],ie=se[1],me=(0,s.useState)(),pe=(0,r.Z)(me,2),he=pe[0],fe=pe[1],ve=new URLSearchParams(window.location.search).get("code"),ge=(0,i.v9)((function(e){return e.auth.userProfile})),xe=(0,i.v9)((function(e){return e.data.amazonConnected})),je=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((0,k.E)(!0)),e.prev=1,e.next=4,f((0,l.K4)());case 4:n=e.sent,f((0,k.E)(!1)),n.data.connect&&Z(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f((0,k.E)(!1));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){je(),z(h)}),[]),(0,s.useEffect)((function(){null!==xe&&void 0!==xe&&xe.connect?Z(!0):Z(!1)}),[xe]),(0,s.useEffect)((function(){W(null===ge||void 0===ge?void 0:ge.profile)}),[ge]);var ye=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f((0,u.tY)());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("err::",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){ye()}),[]);var Ne=(0,d.s0)(),be=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,t,c,r,s,o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f((0,l.n8)());case 3:null!==(t=e.sent)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.auth_grant_url&&(i="".concat(null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.auth_grant_url,"?scope=").concat(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.scope,"&response_type=code&client_id=").concat(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.client_id,"&state=State&redirect_uri=").concat(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.redirect_uri),P(i),j(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){be()}),[]);var Se=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,t,c,r,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new URLSearchParams(window.location.search),!(t=n.get("code"))){e.next=17;break}return c={code:t},e.prev=4,f((0,k.E)(!0)),e.next=8,f((0,l.Wt)(c));case 8:null!==(o=e.sent)&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.adsAccessToken&&(f((0,k.E)(!1)),Ne("/settings"),Z(!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),f((0,k.E)(!1));case 15:e.next=18;break;case 17:Ne("/settings");case 18:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){Se()}),[ve]);var Ze=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f((0,l.jw)());case 3:n=e.sent,f((0,k.E)(!1)),!1===n.data.connect&&Z(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f((0,k.E)(!1));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){ae&&fe(ue.find((function(e){return e.countryCode==ae.countryCode})).timezone)}),[ae]);var Ce=(0,s.useState)(!1),Ee=(0,r.Z)(Ce,2);Ee[0],Ee[1];return(0,y.jsx)("div",{className:"main-container",children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(de.Z,{name:"Settings"}),(0,y.jsx)("div",{className:"tab_container",children:(0,y.jsxs)(T.Z,{defaultActiveKey:B,id:"controlled-tab-example",activeKey:B,onSelect:function(e){return function(e){"connect"===e?(ie(!1),z(!0)):"campaign"==e?(ie(!0),z(!0)):"personal"===e?(ee(!1),ie(!1),z(!0)):(ie(!1),z(!0)),F(e)}(e)},children:[(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"personal",title:"Personal",children:(0,y.jsx)("div",{className:"row table-responsive p-0 m-0",children:(0,y.jsx)(o.Z,{striped:!0,bordered:!0,hover:!0,className:"m-0",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"col-12 col-lg-6",children:"Name :"}),(0,y.jsx)("td",{children:null===Q||void 0===Q?void 0:Q.fullName})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:"Phone :"}),(0,y.jsx)("td",{children:null===Q||void 0===Q?void 0:Q.phoneNumber})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:"Email :"}),(0,y.jsx)("td",{children:null===Q||void 0===Q?void 0:Q.email})]}),x&&(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:"Linked Amazon Ads Account :"}),(0,y.jsx)("td",{children:S?(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("p",{className:"text-success p-0 m-0",children:"Success"}),(0,y.jsx)("button",{className:"blue_btn mx-3",href:"",onClick:function(){return Ze()},children:"Unlink your Account"})]}):(0,y.jsx)("button",{className:"blue_btn",onClick:function(){return window.location.href=_},style:{color:"white"},children:"Link Your Amazon Ads Account"})})]})]})})})}),S&&(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"connect",title:"All Accounts",children:(0,y.jsx)(Le,{setViewCampaign:ee,setSwitchTab:F,loader:D,switchTab:B})}),$&&(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"campaign",title:"Campaigns",children:(0,y.jsx)(A,{selectedCampagin:ae,campaignFlag:oe,timeZoneCountry:he,switchTab:B})}),$&&(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"budget",title:"Budget Rules",children:(0,y.jsx)(re,{selectedCampagin:ae,timeZoneCountry:he,switchTab:B})}),$&&(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"report",title:"Reports",children:(0,y.jsx)(le,{selectedCampagin:ae,timeZoneCountry:he,switchTab:B})}),$&&(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"scheduler",title:"Campaign Schedules",children:(0,y.jsx)(we,{selectedCampagin:ae,timeZoneCountry:he,switchTab:B})}),$&&(0,y.jsx)(w.Z,{className:"tab_bg",eventKey:"campaignHistory",title:"Campaign History",children:(0,y.jsx)(He,{selectedCampagin:ae,timeZoneCountry:he,switchTab:B})})]})})]})})}}}]);
//# sourceMappingURL=142.73293120.chunk.js.map