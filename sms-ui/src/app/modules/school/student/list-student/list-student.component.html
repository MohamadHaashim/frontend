<div class="content-wrapper">
    <div class="row page-header">
        <div class="col-md-6">
            <h3>Student List</h3>
        </div>
        <div class="col-md-6 btn-actions">
            <button type="button" class="btn btn-success" [routerLink]="['/admin/student/create']">
        <i class="mdi mdi-plus"></i> Add
      </button>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <form [formGroup]="searchStudentForm" (ngSubmit)="searchForStudent(this.currentPage)">
                            <table class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td>
                                            <input class="form-control" placeholder="Search by Class" type="text" id="classSearch" formControlName="searchByClass" />
                                        </td>
                                        <td>
                                            <input class="form-control" placeholder="Search by Admission No." type="text" id="admissionNo" formControlName="searchByAdmissionNo" />
                                        </td>
                                        <td>
                                            <input class="form-control" placeholder="Search by Name" type="text" id="admissionNo" formControlName="searchByName" />
                                        </td>
                                        <td>
                                            <input class="form-control" placeholder="Search By DOB" type="text" id="admissionNo" formControlName="searchByDOB" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }" />
                                        </td>
                                        <td>
                                            <input class="form-control" placeholder="Seach by Aadhar No." type="text" id="admissionNo" formControlName="searchByAadhar" />
                                        </td>
                                        <td>
                                            <button type="submit" class="btn btn-inverse-primary">
                        Search
                      </button>
                                            <button type="button" class="btn btn-default studentSearchClearBtn" (click)="clearSearch()">
                        Clear
                      </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="list-avatar-td"></th>
                                    <th>Class</th>
                                    <th>Name</th>
                                    <th>Admission No.</th>
                                    <th>Gender</th>
                                    <th>DOB</th>
                                    <th class="list-status-td">Aadhar No</th>
                                    <th class="list-actions-td"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let student of studentList; let i = index">
                                    <td>
                                        <img *ngIf="student.gender == 'Male'" src="assets/images/faces-clipart/pic-4.png" alt="image" />
                                        <img *ngIf="student.gender == 'Female'" src="assets/images/faces-clipart/pic-2.png" alt="image" />
                                    </td>
                                    <td>
                                        {{ student.class_name }}
                                    </td>
                                    <td>
                                        {{ student.name }}
                                    </td>
                                    <td>
                                        {{ student.admission_no }}
                                    </td>
                                    <td>
                                        <label *ngIf="student.gender == 'Male'" class="badge badge-male">Male</label
                    >
                    <label
                      *ngIf="student.gender == 'Female'"
                      class="badge badge-female"
                      >Female</label
                    >
                  </td>
                  <td>
                    {{ student.dob }}
                  </td>
                  <td>
                    {{ student.aadhar_no }}
                  </td>
                  <td>
                    <button
                      type="button"
                      class="btn btn-icons btn-inverse-primary"
                      [routerLink]="['/admin/profile/student', student.id]"
                    >
                      <i class="mdi mdi-pencil"></i>
                    </button>
                    <button
                      type="button"
                      class="btn btn-icons btn-inverse-info"
                      [routerLink]="['/admin/comments/student', student.id]"
                    >
                      <i class="mdi mdi-comment"></i>
                    </button>
                    <button
                      type="button"
                      class="btn btn-icons btn-inverse-danger"
                      aria-hidden="true"
                      (click)="setDeleteId(student.id)"
                    >
                      <i class="mdi mdi-delete-forever"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="paginationStyle text-end">
              <ngb-pagination
                [collectionSize]="totalItems"
                [(page)]="currentPage"
                [pageSize]="itemsPerPage"
                (pageChange)="onPageChange($event)"
              >
              </ngb-pagination>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- The Modal -->
<div id="confirmDeleteModal" class="custom-modal">
  <!-- Modal content -->
  <div class="custom-modal-content">
    <div class="custom-modal-header">
      <span class="close" (click)="closeDeleteModal()">&times;</span>
      <h4>Confirm Delete</h4>
    </div>
    <div class="custom-modal-body">
      <p class="text-center">Are you sure, you want to delete this student</p>
    </div>
    <div class="custom-modal-footer align-middle">
      <button
        type="button"
        class="btn btn-default"
        (click)="closeDeleteModal()"
      >
        Cancel
      </button>
      <button
        type="button"
        class="btn btn-inverse-primary"
        (click)="confirmDelete()"
      >
        Delete
      </button>
    </div>
  </div>
</div>