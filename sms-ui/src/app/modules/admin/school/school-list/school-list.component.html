<div class="content-wrapper">
    <div class="row page-header">
        <div class="col-md-6">
            <h3>Manage Schools</h3>
        </div>
        <div class="col-md-6 btn-actions">
            <button type="button" class="btn btn-success" (click)="navigateToCreate()">
        <i class="mdi mdi-plus text-light"></i>
        Add
      </button>
        </div>
    </div>
    <div class="col-xs-12 col-md-12 page-content">
        <h4>List Schools</h4>
        <!-- Display a message when no data is found -->
        <div *ngIf="schoolData.length === 0" class="text-center">
            <p class="fs-6 mt-20">No data found</p>
        </div>
        <div class="row" *ngIf="schoolData.length > 0">
            <div class="col-md-3" style="margin-bottom: 15px;" *ngFor="let school of schoolData">
                <div class="card card-shadow">
                    <figure>
                        <div class="   ">
                            <span>{{ school.school_name }}</span>
                            <figcaption>
                                <p class="description">{{ school.address }}</p>
                            </figcaption>

                            <img class="schoolImg" [src]="getImageUrl(school)" alt="No image found">
                        </div>
                    </figure>
                    <div class="text-center school-action-con">
                        <button class="text-warning" [routerLink]="['/admin/school/view/',school.school_id]"><i class="mdi mdi-eye"></i></button>
                        <button class="text-info" [routerLink]="['/admin/school/edit/',school.school_id]"><i class="mdi mdi-pencil"></i></button>
                        <button type="button" class="text-danger" (click)="setDeleteId(school.school_id)">
                        <i class="mdi mdi-delete"></i>
                      </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="paginationStyle d-flex justify-content-end">
            <ngb-pagination [collectionSize]="totalItems " [(page)]="currentPage " [pageSize]="itemsPerPage " (pageChange)="onPageChange($event) ">
            </ngb-pagination>
        </div>
    </div>


    <!-- The Modal -->
    <div id="confirmDeleteModal" class="custom-modal">
        <!-- Modal content -->
        <div class="custom-modal-content small-modal">
            <div class="custom-modal-header">
                <span class="close" (click)="closeDeleteModal()">&times;</span>
                <h4>Confirm Delete</h4>
            </div>
            <div class="custom-modal-body">
                <p class="text-center">Are you sure, you want to delete this school</p>
            </div>
            <div class="custom-modal-footer align-middle">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="closeDeleteModal()">Cancel</button>
                <button type="button" class="btn btn-inverse-primary" (click)="confirmDelete()">
        Delete
      </button>
            </div>
        </div>
    </div>

    <ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-scale-multiple" [fullScreen]="true">
        <img style="width:160px;height:140px;" src="../../../../../assets/images/loading-removebg-preview.png" alt="noImg">
    </ngx-spinner>

    <!-- The Modal -->
    <div id="confirmDeleteModal1" class="custom-modal">
        <!-- Modal content -->
        <div class="custom-modal-content">
            <div class="custom-modal-header">
                <span class="close" (click)="closeDeleteModal()">&times;</span>
                <h4>Confirm Delete!</h4>
            </div>
            <div class="custom-modal-body">
                <p class="text-center">Are you sure, you want to delete this student</p>
            </div>
            <div class="custom-modal-footer align-middle">
                <button type="button" class="btn btn-default" (click)="closeDeleteModal()">
          Cancel
        </button>
                <button type="button" class="btn btn-inverse-primary" (click)="confirmDelete()">
          Delete
        </button>
            </div>
        </div>
    </div>